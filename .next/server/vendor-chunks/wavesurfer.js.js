"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/wavesurfer.js";
exports.ids = ["vendor-chunks/wavesurfer.js"];
exports.modules = {

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/decoder.js":
/*!****************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/decoder.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/** Decode an array buffer into an audio buffer */ function decode(audioData, sampleRate) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const audioCtx = new AudioContext({\n            sampleRate\n        });\n        const decode = audioCtx.decodeAudioData(audioData);\n        return decode.finally(()=>audioCtx.close());\n    });\n}\n/** Normalize peaks to -1..1 */ function normalize(channelData) {\n    const firstChannel = channelData[0];\n    if (firstChannel.some((n)=>n > 1 || n < -1)) {\n        const length = firstChannel.length;\n        let max = 0;\n        for(let i = 0; i < length; i++){\n            const absN = Math.abs(firstChannel[i]);\n            if (absN > max) max = absN;\n        }\n        for (const channel of channelData){\n            for(let i = 0; i < length; i++){\n                channel[i] /= max;\n            }\n        }\n    }\n    return channelData;\n}\n/** Create an audio buffer from pre-decoded audio data */ function createBuffer(channelData, duration) {\n    // If a single array of numbers is passed, make it an array of arrays\n    if (typeof channelData[0] === \"number\") channelData = [\n        channelData\n    ];\n    // Normalize to -1..1\n    normalize(channelData);\n    return {\n        duration,\n        length: channelData[0].length,\n        sampleRate: channelData[0].length / duration,\n        numberOfChannels: channelData.length,\n        getChannelData: (i)=>channelData === null || channelData === void 0 ? void 0 : channelData[i],\n        copyFromChannel: AudioBuffer.prototype.copyFromChannel,\n        copyToChannel: AudioBuffer.prototype.copyToChannel\n    };\n}\nconst Decoder = {\n    decode,\n    createBuffer\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Decoder);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L2RlY29kZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFlBQVksU0FBSyxJQUFJLFNBQUksQ0FBQ0EsU0FBUyxJQUFLLFNBQVVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxDQUFDLEVBQUVDLFNBQVM7SUFDbkYsU0FBU0MsTUFBTUMsS0FBSztRQUFJLE9BQU9BLGlCQUFpQkgsSUFBSUcsUUFBUSxJQUFJSCxFQUFFLFNBQVVJLE9BQU87WUFBSUEsUUFBUUQ7UUFBUTtJQUFJO0lBQzNHLE9BQU8sSUFBS0gsQ0FBQUEsS0FBTUEsQ0FBQUEsSUFBSUssT0FBTSxDQUFDLEVBQUcsU0FBVUQsT0FBTyxFQUFFRSxNQUFNO1FBQ3JELFNBQVNDLFVBQVVKLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxVQUFVUSxJQUFJLENBQUNOO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDMUYsU0FBU0MsU0FBU1IsS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFNBQVMsQ0FBQyxRQUFRLENBQUNFO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDN0YsU0FBU0YsS0FBS0ksTUFBTTtZQUFJQSxPQUFPQyxJQUFJLEdBQUdULFFBQVFRLE9BQU9ULEtBQUssSUFBSUQsTUFBTVUsT0FBT1QsS0FBSyxFQUFFVyxJQUFJLENBQUNQLFdBQVdJO1FBQVc7UUFDN0dILEtBQUssQ0FBQ1AsWUFBWUEsVUFBVWMsS0FBSyxDQUFDakIsU0FBU0MsY0FBYyxFQUFFLEdBQUdVLElBQUk7SUFDdEU7QUFDSjtBQUNBLGdEQUFnRCxHQUNoRCxTQUFTTyxPQUFPQyxTQUFTLEVBQUVDLFVBQVU7SUFDakMsT0FBT3JCLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7UUFDbkMsTUFBTXNCLFdBQVcsSUFBSUMsYUFBYTtZQUFFRjtRQUFXO1FBQy9DLE1BQU1GLFNBQVNHLFNBQVNFLGVBQWUsQ0FBQ0o7UUFDeEMsT0FBT0QsT0FBT00sT0FBTyxDQUFDLElBQU1ILFNBQVNJLEtBQUs7SUFDOUM7QUFDSjtBQUNBLDZCQUE2QixHQUM3QixTQUFTQyxVQUFVQyxXQUFXO0lBQzFCLE1BQU1DLGVBQWVELFdBQVcsQ0FBQyxFQUFFO0lBQ25DLElBQUlDLGFBQWFDLElBQUksQ0FBQyxDQUFDQyxJQUFNQSxJQUFJLEtBQUtBLElBQUksQ0FBQyxJQUFJO1FBQzNDLE1BQU1DLFNBQVNILGFBQWFHLE1BQU07UUFDbEMsSUFBSUMsTUFBTTtRQUNWLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJRixRQUFRRSxJQUFLO1lBQzdCLE1BQU1DLE9BQU9DLEtBQUtDLEdBQUcsQ0FBQ1IsWUFBWSxDQUFDSyxFQUFFO1lBQ3JDLElBQUlDLE9BQU9GLEtBQ1BBLE1BQU1FO1FBQ2Q7UUFDQSxLQUFLLE1BQU1HLFdBQVdWLFlBQWE7WUFDL0IsSUFBSyxJQUFJTSxJQUFJLEdBQUdBLElBQUlGLFFBQVFFLElBQUs7Z0JBQzdCSSxPQUFPLENBQUNKLEVBQUUsSUFBSUQ7WUFDbEI7UUFDSjtJQUNKO0lBQ0EsT0FBT0w7QUFDWDtBQUNBLHVEQUF1RCxHQUN2RCxTQUFTVyxhQUFhWCxXQUFXLEVBQUVZLFFBQVE7SUFDdkMscUVBQXFFO0lBQ3JFLElBQUksT0FBT1osV0FBVyxDQUFDLEVBQUUsS0FBSyxVQUMxQkEsY0FBYztRQUFDQTtLQUFZO0lBQy9CLHFCQUFxQjtJQUNyQkQsVUFBVUM7SUFDVixPQUFPO1FBQ0hZO1FBQ0FSLFFBQVFKLFdBQVcsQ0FBQyxFQUFFLENBQUNJLE1BQU07UUFDN0JYLFlBQVlPLFdBQVcsQ0FBQyxFQUFFLENBQUNJLE1BQU0sR0FBR1E7UUFDcENDLGtCQUFrQmIsWUFBWUksTUFBTTtRQUNwQ1UsZ0JBQWdCLENBQUNSLElBQU1OLGdCQUFnQixRQUFRQSxnQkFBZ0IsS0FBSyxJQUFJLEtBQUssSUFBSUEsV0FBVyxDQUFDTSxFQUFFO1FBQy9GUyxpQkFBaUJDLFlBQVlDLFNBQVMsQ0FBQ0YsZUFBZTtRQUN0REcsZUFBZUYsWUFBWUMsU0FBUyxDQUFDQyxhQUFhO0lBQ3REO0FBQ0o7QUFDQSxNQUFNQyxVQUFVO0lBQ1o1QjtJQUNBb0I7QUFDSjtBQUNBLGlFQUFlUSxPQUFPQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xvbmUtd2hhdHNhcHAvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L2RlY29kZXIuanM/ZTliYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbi8qKiBEZWNvZGUgYW4gYXJyYXkgYnVmZmVyIGludG8gYW4gYXVkaW8gYnVmZmVyICovXG5mdW5jdGlvbiBkZWNvZGUoYXVkaW9EYXRhLCBzYW1wbGVSYXRlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KHsgc2FtcGxlUmF0ZSB9KTtcbiAgICAgICAgY29uc3QgZGVjb2RlID0gYXVkaW9DdHguZGVjb2RlQXVkaW9EYXRhKGF1ZGlvRGF0YSk7XG4gICAgICAgIHJldHVybiBkZWNvZGUuZmluYWxseSgoKSA9PiBhdWRpb0N0eC5jbG9zZSgpKTtcbiAgICB9KTtcbn1cbi8qKiBOb3JtYWxpemUgcGVha3MgdG8gLTEuLjEgKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZShjaGFubmVsRGF0YSkge1xuICAgIGNvbnN0IGZpcnN0Q2hhbm5lbCA9IGNoYW5uZWxEYXRhWzBdO1xuICAgIGlmIChmaXJzdENoYW5uZWwuc29tZSgobikgPT4gbiA+IDEgfHwgbiA8IC0xKSkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBmaXJzdENoYW5uZWwubGVuZ3RoO1xuICAgICAgICBsZXQgbWF4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYWJzTiA9IE1hdGguYWJzKGZpcnN0Q2hhbm5lbFtpXSk7XG4gICAgICAgICAgICBpZiAoYWJzTiA+IG1heClcbiAgICAgICAgICAgICAgICBtYXggPSBhYnNOO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY2hhbm5lbCBvZiBjaGFubmVsRGF0YSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxbaV0gLz0gbWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFubmVsRGF0YTtcbn1cbi8qKiBDcmVhdGUgYW4gYXVkaW8gYnVmZmVyIGZyb20gcHJlLWRlY29kZWQgYXVkaW8gZGF0YSAqL1xuZnVuY3Rpb24gY3JlYXRlQnVmZmVyKGNoYW5uZWxEYXRhLCBkdXJhdGlvbikge1xuICAgIC8vIElmIGEgc2luZ2xlIGFycmF5IG9mIG51bWJlcnMgaXMgcGFzc2VkLCBtYWtlIGl0IGFuIGFycmF5IG9mIGFycmF5c1xuICAgIGlmICh0eXBlb2YgY2hhbm5lbERhdGFbMF0gPT09ICdudW1iZXInKVxuICAgICAgICBjaGFubmVsRGF0YSA9IFtjaGFubmVsRGF0YV07XG4gICAgLy8gTm9ybWFsaXplIHRvIC0xLi4xXG4gICAgbm9ybWFsaXplKGNoYW5uZWxEYXRhKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgbGVuZ3RoOiBjaGFubmVsRGF0YVswXS5sZW5ndGgsXG4gICAgICAgIHNhbXBsZVJhdGU6IGNoYW5uZWxEYXRhWzBdLmxlbmd0aCAvIGR1cmF0aW9uLFxuICAgICAgICBudW1iZXJPZkNoYW5uZWxzOiBjaGFubmVsRGF0YS5sZW5ndGgsXG4gICAgICAgIGdldENoYW5uZWxEYXRhOiAoaSkgPT4gY2hhbm5lbERhdGEgPT09IG51bGwgfHwgY2hhbm5lbERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5uZWxEYXRhW2ldLFxuICAgICAgICBjb3B5RnJvbUNoYW5uZWw6IEF1ZGlvQnVmZmVyLnByb3RvdHlwZS5jb3B5RnJvbUNoYW5uZWwsXG4gICAgICAgIGNvcHlUb0NoYW5uZWw6IEF1ZGlvQnVmZmVyLnByb3RvdHlwZS5jb3B5VG9DaGFubmVsLFxuICAgIH07XG59XG5jb25zdCBEZWNvZGVyID0ge1xuICAgIGRlY29kZSxcbiAgICBjcmVhdGVCdWZmZXIsXG59O1xuZXhwb3J0IGRlZmF1bHQgRGVjb2RlcjtcbiJdLCJuYW1lcyI6WyJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJhZG9wdCIsInZhbHVlIiwicmVzb2x2ZSIsIlByb21pc2UiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJkZWNvZGUiLCJhdWRpb0RhdGEiLCJzYW1wbGVSYXRlIiwiYXVkaW9DdHgiLCJBdWRpb0NvbnRleHQiLCJkZWNvZGVBdWRpb0RhdGEiLCJmaW5hbGx5IiwiY2xvc2UiLCJub3JtYWxpemUiLCJjaGFubmVsRGF0YSIsImZpcnN0Q2hhbm5lbCIsInNvbWUiLCJuIiwibGVuZ3RoIiwibWF4IiwiaSIsImFic04iLCJNYXRoIiwiYWJzIiwiY2hhbm5lbCIsImNyZWF0ZUJ1ZmZlciIsImR1cmF0aW9uIiwibnVtYmVyT2ZDaGFubmVscyIsImdldENoYW5uZWxEYXRhIiwiY29weUZyb21DaGFubmVsIiwiQXVkaW9CdWZmZXIiLCJwcm90b3R5cGUiLCJjb3B5VG9DaGFubmVsIiwiRGVjb2RlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/decoder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/draggable.js":
/*!******************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/draggable.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeDraggable: () => (/* binding */ makeDraggable)\n/* harmony export */ });\nfunction makeDraggable(element, onDrag, onStart, onEnd, threshold = 3, mouseButton = 0) {\n    if (!element) return ()=>void 0;\n    let unsubscribeDocument = ()=>void 0;\n    const onPointerDown = (event)=>{\n        if (event.button !== mouseButton) return;\n        event.preventDefault();\n        event.stopPropagation();\n        let startX = event.clientX;\n        let startY = event.clientY;\n        let isDragging = false;\n        const onPointerMove = (event)=>{\n            event.preventDefault();\n            event.stopPropagation();\n            const x = event.clientX;\n            const y = event.clientY;\n            const dx = x - startX;\n            const dy = y - startY;\n            startX = x;\n            startY = y;\n            if (isDragging || Math.abs(dx) > threshold || Math.abs(dy) > threshold) {\n                const rect = element.getBoundingClientRect();\n                const { left, top } = rect;\n                if (!isDragging) {\n                    onStart === null || onStart === void 0 ? void 0 : onStart(startX - left, startY - top);\n                    isDragging = true;\n                }\n                onDrag(dx, dy, x - left, y - top);\n            }\n        };\n        const onPointerUp = ()=>{\n            if (isDragging) {\n                onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n            }\n            unsubscribeDocument();\n        };\n        const onClick = (event)=>{\n            if (isDragging) {\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        };\n        const onTouchMove = (event)=>{\n            if (isDragging) {\n                event.preventDefault();\n            }\n        };\n        document.addEventListener(\"pointermove\", onPointerMove);\n        document.addEventListener(\"pointerup\", onPointerUp);\n        document.addEventListener(\"pointercancel\", onPointerUp);\n        document.addEventListener(\"touchmove\", onTouchMove, {\n            passive: false\n        });\n        document.addEventListener(\"click\", onClick, {\n            capture: true\n        });\n        unsubscribeDocument = ()=>{\n            document.removeEventListener(\"pointermove\", onPointerMove);\n            document.removeEventListener(\"pointerup\", onPointerUp);\n            document.removeEventListener(\"pointercancel\", onPointerUp);\n            document.removeEventListener(\"touchmove\", onTouchMove);\n            setTimeout(()=>{\n                document.removeEventListener(\"click\", onClick, {\n                    capture: true\n                });\n            }, 10);\n        };\n    };\n    element.addEventListener(\"pointerdown\", onPointerDown);\n    return ()=>{\n        unsubscribeDocument();\n        element.removeEventListener(\"pointerdown\", onPointerDown);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L2RyYWdnYWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sU0FBU0EsY0FBY0MsT0FBTyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxZQUFZLENBQUMsRUFBRUMsY0FBYyxDQUFDO0lBQ3pGLElBQUksQ0FBQ0wsU0FDRCxPQUFPLElBQU0sS0FBSztJQUN0QixJQUFJTSxzQkFBc0IsSUFBTSxLQUFLO0lBQ3JDLE1BQU1DLGdCQUFnQixDQUFDQztRQUNuQixJQUFJQSxNQUFNQyxNQUFNLEtBQUtKLGFBQ2pCO1FBQ0pHLE1BQU1FLGNBQWM7UUFDcEJGLE1BQU1HLGVBQWU7UUFDckIsSUFBSUMsU0FBU0osTUFBTUssT0FBTztRQUMxQixJQUFJQyxTQUFTTixNQUFNTyxPQUFPO1FBQzFCLElBQUlDLGFBQWE7UUFDakIsTUFBTUMsZ0JBQWdCLENBQUNUO1lBQ25CQSxNQUFNRSxjQUFjO1lBQ3BCRixNQUFNRyxlQUFlO1lBQ3JCLE1BQU1PLElBQUlWLE1BQU1LLE9BQU87WUFDdkIsTUFBTU0sSUFBSVgsTUFBTU8sT0FBTztZQUN2QixNQUFNSyxLQUFLRixJQUFJTjtZQUNmLE1BQU1TLEtBQUtGLElBQUlMO1lBQ2ZGLFNBQVNNO1lBQ1RKLFNBQVNLO1lBQ1QsSUFBSUgsY0FBY00sS0FBS0MsR0FBRyxDQUFDSCxNQUFNaEIsYUFBYWtCLEtBQUtDLEdBQUcsQ0FBQ0YsTUFBTWpCLFdBQVc7Z0JBQ3BFLE1BQU1vQixPQUFPeEIsUUFBUXlCLHFCQUFxQjtnQkFDMUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEdBQUcsRUFBRSxHQUFHSDtnQkFDdEIsSUFBSSxDQUFDUixZQUFZO29CQUNiZCxZQUFZLFFBQVFBLFlBQVksS0FBSyxJQUFJLEtBQUssSUFBSUEsUUFBUVUsU0FBU2MsTUFBTVosU0FBU2E7b0JBQ2xGWCxhQUFhO2dCQUNqQjtnQkFDQWYsT0FBT21CLElBQUlDLElBQUlILElBQUlRLE1BQU1QLElBQUlRO1lBQ2pDO1FBQ0o7UUFDQSxNQUFNQyxjQUFjO1lBQ2hCLElBQUlaLFlBQVk7Z0JBQ1piLFVBQVUsUUFBUUEsVUFBVSxLQUFLLElBQUksS0FBSyxJQUFJQTtZQUNsRDtZQUNBRztRQUNKO1FBQ0EsTUFBTXVCLFVBQVUsQ0FBQ3JCO1lBQ2IsSUFBSVEsWUFBWTtnQkFDWlIsTUFBTUcsZUFBZTtnQkFDckJILE1BQU1FLGNBQWM7WUFDeEI7UUFDSjtRQUNBLE1BQU1vQixjQUFjLENBQUN0QjtZQUNqQixJQUFJUSxZQUFZO2dCQUNaUixNQUFNRSxjQUFjO1lBQ3hCO1FBQ0o7UUFDQXFCLFNBQVNDLGdCQUFnQixDQUFDLGVBQWVmO1FBQ3pDYyxTQUFTQyxnQkFBZ0IsQ0FBQyxhQUFhSjtRQUN2Q0csU0FBU0MsZ0JBQWdCLENBQUMsaUJBQWlCSjtRQUMzQ0csU0FBU0MsZ0JBQWdCLENBQUMsYUFBYUYsYUFBYTtZQUFFRyxTQUFTO1FBQU07UUFDckVGLFNBQVNDLGdCQUFnQixDQUFDLFNBQVNILFNBQVM7WUFBRUssU0FBUztRQUFLO1FBQzVENUIsc0JBQXNCO1lBQ2xCeUIsU0FBU0ksbUJBQW1CLENBQUMsZUFBZWxCO1lBQzVDYyxTQUFTSSxtQkFBbUIsQ0FBQyxhQUFhUDtZQUMxQ0csU0FBU0ksbUJBQW1CLENBQUMsaUJBQWlCUDtZQUM5Q0csU0FBU0ksbUJBQW1CLENBQUMsYUFBYUw7WUFDMUNNLFdBQVc7Z0JBQ1BMLFNBQVNJLG1CQUFtQixDQUFDLFNBQVNOLFNBQVM7b0JBQUVLLFNBQVM7Z0JBQUs7WUFDbkUsR0FBRztRQUNQO0lBQ0o7SUFDQWxDLFFBQVFnQyxnQkFBZ0IsQ0FBQyxlQUFlekI7SUFDeEMsT0FBTztRQUNIRDtRQUNBTixRQUFRbUMsbUJBQW1CLENBQUMsZUFBZTVCO0lBQy9DO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbG9uZS13aGF0c2FwcC8uL25vZGVfbW9kdWxlcy93YXZlc3VyZmVyLmpzL2Rpc3QvZHJhZ2dhYmxlLmpzPzQ4ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIG1ha2VEcmFnZ2FibGUoZWxlbWVudCwgb25EcmFnLCBvblN0YXJ0LCBvbkVuZCwgdGhyZXNob2xkID0gMywgbW91c2VCdXR0b24gPSAwKSB7XG4gICAgaWYgKCFlbGVtZW50KVxuICAgICAgICByZXR1cm4gKCkgPT4gdm9pZCAwO1xuICAgIGxldCB1bnN1YnNjcmliZURvY3VtZW50ID0gKCkgPT4gdm9pZCAwO1xuICAgIGNvbnN0IG9uUG9pbnRlckRvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gbW91c2VCdXR0b24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBsZXQgc3RhcnRYID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgbGV0IHN0YXJ0WSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgIGxldCBpc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG9uUG9pbnRlck1vdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYO1xuICAgICAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICBjb25zdCBkeCA9IHggLSBzdGFydFg7XG4gICAgICAgICAgICBjb25zdCBkeSA9IHkgLSBzdGFydFk7XG4gICAgICAgICAgICBzdGFydFggPSB4O1xuICAgICAgICAgICAgc3RhcnRZID0geTtcbiAgICAgICAgICAgIGlmIChpc0RyYWdnaW5nIHx8IE1hdGguYWJzKGR4KSA+IHRocmVzaG9sZCB8fCBNYXRoLmFicyhkeSkgPiB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxlZnQsIHRvcCB9ID0gcmVjdDtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgb25TdGFydCA9PT0gbnVsbCB8fCBvblN0YXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblN0YXJ0KHN0YXJ0WCAtIGxlZnQsIHN0YXJ0WSAtIHRvcCk7XG4gICAgICAgICAgICAgICAgICAgIGlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkRyYWcoZHgsIGR5LCB4IC0gbGVmdCwgeSAtIHRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uUG9pbnRlclVwID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICBvbkVuZCA9PT0gbnVsbCB8fCBvbkVuZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25FbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuc3Vic2NyaWJlRG9jdW1lbnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25DbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvblRvdWNoTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBvblBvaW50ZXJVcCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2ssIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgdW5zdWJzY3JpYmVEb2N1bWVudCA9ICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgb25Qb2ludGVyVXApO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93bik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdW5zdWJzY3JpYmVEb2N1bWVudCgpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93bik7XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJtYWtlRHJhZ2dhYmxlIiwiZWxlbWVudCIsIm9uRHJhZyIsIm9uU3RhcnQiLCJvbkVuZCIsInRocmVzaG9sZCIsIm1vdXNlQnV0dG9uIiwidW5zdWJzY3JpYmVEb2N1bWVudCIsIm9uUG9pbnRlckRvd24iLCJldmVudCIsImJ1dHRvbiIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic3RhcnRYIiwiY2xpZW50WCIsInN0YXJ0WSIsImNsaWVudFkiLCJpc0RyYWdnaW5nIiwib25Qb2ludGVyTW92ZSIsIngiLCJ5IiwiZHgiLCJkeSIsIk1hdGgiLCJhYnMiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsInRvcCIsIm9uUG9pbnRlclVwIiwib25DbGljayIsIm9uVG91Y2hNb3ZlIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsImNhcHR1cmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0VGltZW91dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/draggable.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/event-emitter.js":
/*!**********************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/event-emitter.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** A simple event emitter that can be used to listen to and emit events. */ class EventEmitter {\n    constructor(){\n        this.listeners = {};\n        /** Subscribe to an event. Returns an unsubscribe function. */ this.on = this.addEventListener;\n        /** Unsubscribe from an event */ this.un = this.removeEventListener;\n    }\n    /** Add an event listener */ addEventListener(event, listener, options) {\n        if (!this.listeners[event]) {\n            this.listeners[event] = new Set();\n        }\n        this.listeners[event].add(listener);\n        if (options === null || options === void 0 ? void 0 : options.once) {\n            const unsubscribeOnce = ()=>{\n                this.removeEventListener(event, unsubscribeOnce);\n                this.removeEventListener(event, listener);\n            };\n            this.addEventListener(event, unsubscribeOnce);\n            return unsubscribeOnce;\n        }\n        return ()=>this.removeEventListener(event, listener);\n    }\n    removeEventListener(event, listener) {\n        var _a;\n        (_a = this.listeners[event]) === null || _a === void 0 ? void 0 : _a.delete(listener);\n    }\n    /** Subscribe to an event only once */ once(event, listener) {\n        return this.on(event, listener, {\n            once: true\n        });\n    }\n    /** Clear all events */ unAll() {\n        this.listeners = {};\n    }\n    /** Emit an event */ emit(eventName, ...args) {\n        if (this.listeners[eventName]) {\n            this.listeners[eventName].forEach((listener)=>listener(...args));\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EventEmitter);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L2V2ZW50LWVtaXR0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDBFQUEwRSxHQUMxRSxNQUFNQTtJQUNGQyxhQUFjO1FBQ1YsSUFBSSxDQUFDQyxTQUFTLEdBQUcsQ0FBQztRQUNsQiw0REFBNEQsR0FDNUQsSUFBSSxDQUFDQyxFQUFFLEdBQUcsSUFBSSxDQUFDQyxnQkFBZ0I7UUFDL0IsOEJBQThCLEdBQzlCLElBQUksQ0FBQ0MsRUFBRSxHQUFHLElBQUksQ0FBQ0MsbUJBQW1CO0lBQ3RDO0lBQ0EsMEJBQTBCLEdBQzFCRixpQkFBaUJHLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUU7UUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQ1AsU0FBUyxDQUFDSyxNQUFNLEVBQUU7WUFDeEIsSUFBSSxDQUFDTCxTQUFTLENBQUNLLE1BQU0sR0FBRyxJQUFJRztRQUNoQztRQUNBLElBQUksQ0FBQ1IsU0FBUyxDQUFDSyxNQUFNLENBQUNJLEdBQUcsQ0FBQ0g7UUFDMUIsSUFBSUMsWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVFHLElBQUksRUFBRTtZQUNoRSxNQUFNQyxrQkFBa0I7Z0JBQ3BCLElBQUksQ0FBQ1AsbUJBQW1CLENBQUNDLE9BQU9NO2dCQUNoQyxJQUFJLENBQUNQLG1CQUFtQixDQUFDQyxPQUFPQztZQUNwQztZQUNBLElBQUksQ0FBQ0osZ0JBQWdCLENBQUNHLE9BQU9NO1lBQzdCLE9BQU9BO1FBQ1g7UUFDQSxPQUFPLElBQU0sSUFBSSxDQUFDUCxtQkFBbUIsQ0FBQ0MsT0FBT0M7SUFDakQ7SUFDQUYsb0JBQW9CQyxLQUFLLEVBQUVDLFFBQVEsRUFBRTtRQUNqQyxJQUFJTTtRQUNIQSxDQUFBQSxLQUFLLElBQUksQ0FBQ1osU0FBUyxDQUFDSyxNQUFNLE1BQU0sUUFBUU8sT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHQyxNQUFNLENBQUNQO0lBQ2hGO0lBQ0Esb0NBQW9DLEdBQ3BDSSxLQUFLTCxLQUFLLEVBQUVDLFFBQVEsRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0wsRUFBRSxDQUFDSSxPQUFPQyxVQUFVO1lBQUVJLE1BQU07UUFBSztJQUNqRDtJQUNBLHFCQUFxQixHQUNyQkksUUFBUTtRQUNKLElBQUksQ0FBQ2QsU0FBUyxHQUFHLENBQUM7SUFDdEI7SUFDQSxrQkFBa0IsR0FDbEJlLEtBQUtDLFNBQVMsRUFBRSxHQUFHQyxJQUFJLEVBQUU7UUFDckIsSUFBSSxJQUFJLENBQUNqQixTQUFTLENBQUNnQixVQUFVLEVBQUU7WUFDM0IsSUFBSSxDQUFDaEIsU0FBUyxDQUFDZ0IsVUFBVSxDQUFDRSxPQUFPLENBQUMsQ0FBQ1osV0FBYUEsWUFBWVc7UUFDaEU7SUFDSjtBQUNKO0FBQ0EsaUVBQWVuQixZQUFZQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xvbmUtd2hhdHNhcHAvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L2V2ZW50LWVtaXR0ZXIuanM/ZWNmNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQSBzaW1wbGUgZXZlbnQgZW1pdHRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxpc3RlbiB0byBhbmQgZW1pdCBldmVudHMuICovXG5jbGFzcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICAvKiogU3Vic2NyaWJlIHRvIGFuIGV2ZW50LiBSZXR1cm5zIGFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uLiAqL1xuICAgICAgICB0aGlzLm9uID0gdGhpcy5hZGRFdmVudExpc3RlbmVyO1xuICAgICAgICAvKiogVW5zdWJzY3JpYmUgZnJvbSBhbiBldmVudCAqL1xuICAgICAgICB0aGlzLnVuID0gdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyO1xuICAgIH1cbiAgICAvKiogQWRkIGFuIGV2ZW50IGxpc3RlbmVyICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50XSA9IG5ldyBTZXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudF0uYWRkKGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vbmNlKSB7XG4gICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZU9uY2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB1bnN1YnNjcmliZU9uY2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdW5zdWJzY3JpYmVPbmNlKTtcbiAgICAgICAgICAgIHJldHVybiB1bnN1YnNjcmliZU9uY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMubGlzdGVuZXJzW2V2ZW50XSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKiBTdWJzY3JpYmUgdG8gYW4gZXZlbnQgb25seSBvbmNlICovXG4gICAgb25jZShldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIGxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICAgIC8qKiBDbGVhciBhbGwgZXZlbnRzICovXG4gICAgdW5BbGwoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0ge307XG4gICAgfVxuICAgIC8qKiBFbWl0IGFuIGV2ZW50ICovXG4gICAgZW1pdChldmVudE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0uZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKC4uLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEV2ZW50RW1pdHRlcjtcbiJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsImxpc3RlbmVycyIsIm9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwibGlzdGVuZXIiLCJvcHRpb25zIiwiU2V0IiwiYWRkIiwib25jZSIsInVuc3Vic2NyaWJlT25jZSIsIl9hIiwiZGVsZXRlIiwidW5BbGwiLCJlbWl0IiwiZXZlbnROYW1lIiwiYXJncyIsImZvckVhY2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/event-emitter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/fetcher.js":
/*!****************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/fetcher.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction watchProgress(response, progressCallback) {\n    return __awaiter(this, void 0, void 0, function*() {\n        if (!response.body || !response.headers) return;\n        const reader = response.body.getReader();\n        const contentLength = Number(response.headers.get(\"Content-Length\")) || 0;\n        let receivedLength = 0;\n        // Process the data\n        const processChunk = (value)=>__awaiter(this, void 0, void 0, function*() {\n                // Add to the received length\n                receivedLength += (value === null || value === void 0 ? void 0 : value.length) || 0;\n                const percentage = Math.round(receivedLength / contentLength * 100);\n                progressCallback(percentage);\n            });\n        const read = ()=>__awaiter(this, void 0, void 0, function*() {\n                let data;\n                try {\n                    data = yield reader.read();\n                } catch (_a) {\n                    // Ignore errors because we can only handle the main response\n                    return;\n                }\n                // Continue reading data until done\n                if (!data.done) {\n                    processChunk(data.value);\n                    yield read();\n                }\n            });\n        read();\n    });\n}\nfunction fetchBlob(url, progressCallback, requestInit) {\n    return __awaiter(this, void 0, void 0, function*() {\n        // Fetch the resource\n        const response = yield fetch(url, requestInit);\n        if (!response.ok) {\n            throw new Error(`Failed to fetch ${url}: ${response.status} (${response.statusText})`);\n        }\n        // Read the data to track progress\n        watchProgress(response.clone(), progressCallback);\n        return response.blob();\n    });\n}\nconst Fetcher = {\n    fetchBlob\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Fetcher);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L2ZldGNoZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFlBQVksU0FBSyxJQUFJLFNBQUksQ0FBQ0EsU0FBUyxJQUFLLFNBQVVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxDQUFDLEVBQUVDLFNBQVM7SUFDbkYsU0FBU0MsTUFBTUMsS0FBSztRQUFJLE9BQU9BLGlCQUFpQkgsSUFBSUcsUUFBUSxJQUFJSCxFQUFFLFNBQVVJLE9BQU87WUFBSUEsUUFBUUQ7UUFBUTtJQUFJO0lBQzNHLE9BQU8sSUFBS0gsQ0FBQUEsS0FBTUEsQ0FBQUEsSUFBSUssT0FBTSxDQUFDLEVBQUcsU0FBVUQsT0FBTyxFQUFFRSxNQUFNO1FBQ3JELFNBQVNDLFVBQVVKLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxVQUFVUSxJQUFJLENBQUNOO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDMUYsU0FBU0MsU0FBU1IsS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFNBQVMsQ0FBQyxRQUFRLENBQUNFO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDN0YsU0FBU0YsS0FBS0ksTUFBTTtZQUFJQSxPQUFPQyxJQUFJLEdBQUdULFFBQVFRLE9BQU9ULEtBQUssSUFBSUQsTUFBTVUsT0FBT1QsS0FBSyxFQUFFVyxJQUFJLENBQUNQLFdBQVdJO1FBQVc7UUFDN0dILEtBQUssQ0FBQ1AsWUFBWUEsVUFBVWMsS0FBSyxDQUFDakIsU0FBU0MsY0FBYyxFQUFFLEdBQUdVLElBQUk7SUFDdEU7QUFDSjtBQUNBLFNBQVNPLGNBQWNDLFFBQVEsRUFBRUMsZ0JBQWdCO0lBQzdDLE9BQU9yQixVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO1FBQ25DLElBQUksQ0FBQ29CLFNBQVNFLElBQUksSUFBSSxDQUFDRixTQUFTRyxPQUFPLEVBQ25DO1FBQ0osTUFBTUMsU0FBU0osU0FBU0UsSUFBSSxDQUFDRyxTQUFTO1FBQ3RDLE1BQU1DLGdCQUFnQkMsT0FBT1AsU0FBU0csT0FBTyxDQUFDSyxHQUFHLENBQUMsc0JBQXNCO1FBQ3hFLElBQUlDLGlCQUFpQjtRQUNyQixtQkFBbUI7UUFDbkIsTUFBTUMsZUFBZSxDQUFDeEIsUUFBVU4sVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztnQkFDNUQsNkJBQTZCO2dCQUM3QjZCLGtCQUFrQixDQUFDdkIsVUFBVSxRQUFRQSxVQUFVLEtBQUssSUFBSSxLQUFLLElBQUlBLE1BQU15QixNQUFNLEtBQUs7Z0JBQ2xGLE1BQU1DLGFBQWFDLEtBQUtDLEtBQUssQ0FBQyxpQkFBa0JSLGdCQUFpQjtnQkFDakVMLGlCQUFpQlc7WUFDckI7UUFDQSxNQUFNRyxPQUFPLElBQU1uQyxVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO2dCQUMvQyxJQUFJb0M7Z0JBQ0osSUFBSTtvQkFDQUEsT0FBTyxNQUFNWixPQUFPVyxJQUFJO2dCQUM1QixFQUNBLE9BQU9FLElBQUk7b0JBQ1AsNkRBQTZEO29CQUM3RDtnQkFDSjtnQkFDQSxtQ0FBbUM7Z0JBQ25DLElBQUksQ0FBQ0QsS0FBS3BCLElBQUksRUFBRTtvQkFDWmMsYUFBYU0sS0FBSzlCLEtBQUs7b0JBQ3ZCLE1BQU02QjtnQkFDVjtZQUNKO1FBQ0FBO0lBQ0o7QUFDSjtBQUNBLFNBQVNHLFVBQVVDLEdBQUcsRUFBRWxCLGdCQUFnQixFQUFFbUIsV0FBVztJQUNqRCxPQUFPeEMsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztRQUNuQyxxQkFBcUI7UUFDckIsTUFBTW9CLFdBQVcsTUFBTXFCLE1BQU1GLEtBQUtDO1FBQ2xDLElBQUksQ0FBQ3BCLFNBQVNzQixFQUFFLEVBQUU7WUFDZCxNQUFNLElBQUlDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRUosSUFBSSxFQUFFLEVBQUVuQixTQUFTd0IsTUFBTSxDQUFDLEVBQUUsRUFBRXhCLFNBQVN5QixVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3pGO1FBQ0Esa0NBQWtDO1FBQ2xDMUIsY0FBY0MsU0FBUzBCLEtBQUssSUFBSXpCO1FBQ2hDLE9BQU9ELFNBQVMyQixJQUFJO0lBQ3hCO0FBQ0o7QUFDQSxNQUFNQyxVQUFVO0lBQ1pWO0FBQ0o7QUFDQSxpRUFBZVUsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Nsb25lLXdoYXRzYXBwLy4vbm9kZV9tb2R1bGVzL3dhdmVzdXJmZXIuanMvZGlzdC9mZXRjaGVyLmpzPzJhMGQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5mdW5jdGlvbiB3YXRjaFByb2dyZXNzKHJlc3BvbnNlLCBwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5ib2R5IHx8ICFyZXNwb25zZS5oZWFkZXJzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpO1xuICAgICAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdDb250ZW50LUxlbmd0aCcpKSB8fCAwO1xuICAgICAgICBsZXQgcmVjZWl2ZWRMZW5ndGggPSAwO1xuICAgICAgICAvLyBQcm9jZXNzIHRoZSBkYXRhXG4gICAgICAgIGNvbnN0IHByb2Nlc3NDaHVuayA9ICh2YWx1ZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gQWRkIHRvIHRoZSByZWNlaXZlZCBsZW5ndGhcbiAgICAgICAgICAgIHJlY2VpdmVkTGVuZ3RoICs9ICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUubGVuZ3RoKSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoKHJlY2VpdmVkTGVuZ3RoIC8gY29udGVudExlbmd0aCkgKiAxMDApO1xuICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjayhwZXJjZW50YWdlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlYWQgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHlpZWxkIHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JzIGJlY2F1c2Ugd2UgY2FuIG9ubHkgaGFuZGxlIHRoZSBtYWluIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ29udGludWUgcmVhZGluZyBkYXRhIHVudGlsIGRvbmVcbiAgICAgICAgICAgIGlmICghZGF0YS5kb25lKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NodW5rKGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgICAgIHlpZWxkIHJlYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlYWQoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZldGNoQmxvYih1cmwsIHByb2dyZXNzQ2FsbGJhY2ssIHJlcXVlc3RJbml0KSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIHJlc291cmNlXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2godXJsLCByZXF1ZXN0SW5pdCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7dXJsfTogJHtyZXNwb25zZS5zdGF0dXN9ICgke3Jlc3BvbnNlLnN0YXR1c1RleHR9KWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlYWQgdGhlIGRhdGEgdG8gdHJhY2sgcHJvZ3Jlc3NcbiAgICAgICAgd2F0Y2hQcm9ncmVzcyhyZXNwb25zZS5jbG9uZSgpLCBwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICB9KTtcbn1cbmNvbnN0IEZldGNoZXIgPSB7XG4gICAgZmV0Y2hCbG9iLFxufTtcbmV4cG9ydCBkZWZhdWx0IEZldGNoZXI7XG4iXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiYWRvcHQiLCJ2YWx1ZSIsInJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5Iiwid2F0Y2hQcm9ncmVzcyIsInJlc3BvbnNlIiwicHJvZ3Jlc3NDYWxsYmFjayIsImJvZHkiLCJoZWFkZXJzIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiY29udGVudExlbmd0aCIsIk51bWJlciIsImdldCIsInJlY2VpdmVkTGVuZ3RoIiwicHJvY2Vzc0NodW5rIiwibGVuZ3RoIiwicGVyY2VudGFnZSIsIk1hdGgiLCJyb3VuZCIsInJlYWQiLCJkYXRhIiwiX2EiLCJmZXRjaEJsb2IiLCJ1cmwiLCJyZXF1ZXN0SW5pdCIsImZldGNoIiwib2siLCJFcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJjbG9uZSIsImJsb2IiLCJGZXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/fetcher.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/player.js":
/*!***************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/player.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _event_emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-emitter.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/event-emitter.js\");\n\nclass Player extends _event_emitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(options){\n        super();\n        this.isExternalMedia = false;\n        if (options.media) {\n            this.media = options.media;\n            this.isExternalMedia = true;\n        } else {\n            this.media = document.createElement(\"audio\");\n        }\n        // Controls\n        if (options.mediaControls) {\n            this.media.controls = true;\n        }\n        // Autoplay\n        if (options.autoplay) {\n            this.media.autoplay = true;\n        }\n        // Speed\n        if (options.playbackRate != null) {\n            this.onceMediaEvent(\"canplay\", ()=>{\n                if (options.playbackRate != null) {\n                    this.media.playbackRate = options.playbackRate;\n                }\n            });\n        }\n    }\n    onMediaEvent(event, callback, options) {\n        this.media.addEventListener(event, callback, options);\n        return ()=>this.media.removeEventListener(event, callback);\n    }\n    onceMediaEvent(event, callback) {\n        return this.onMediaEvent(event, callback, {\n            once: true\n        });\n    }\n    getSrc() {\n        return this.media.currentSrc || this.media.src || \"\";\n    }\n    revokeSrc() {\n        const src = this.getSrc();\n        if (src.startsWith(\"blob:\")) {\n            URL.revokeObjectURL(src);\n        }\n    }\n    setSrc(url, blob) {\n        const src = this.getSrc();\n        if (src === url) return;\n        this.revokeSrc();\n        const newSrc = blob instanceof Blob ? URL.createObjectURL(blob) : url;\n        this.media.src = newSrc;\n        this.media.load();\n    }\n    destroy() {\n        this.media.pause();\n        if (this.isExternalMedia) return;\n        this.media.remove();\n        this.revokeSrc();\n        this.media.src = \"\";\n        // Load resets the media element to its initial state\n        this.media.load();\n    }\n    setMediaElement(element) {\n        this.media = element;\n    }\n    /** Start playing the audio */ play() {\n        return this.media.play();\n    }\n    /** Pause the audio */ pause() {\n        this.media.pause();\n    }\n    /** Check if the audio is playing */ isPlaying() {\n        return !this.media.paused && !this.media.ended;\n    }\n    /** Jumpt to a specific time in the audio (in seconds) */ setTime(time) {\n        this.media.currentTime = time;\n    }\n    /** Get the duration of the audio in seconds */ getDuration() {\n        return this.media.duration;\n    }\n    /** Get the current audio position in seconds */ getCurrentTime() {\n        return this.media.currentTime;\n    }\n    /** Get the audio volume */ getVolume() {\n        return this.media.volume;\n    }\n    /** Set the audio volume */ setVolume(volume) {\n        this.media.volume = volume;\n    }\n    /** Get the audio muted state */ getMuted() {\n        return this.media.muted;\n    }\n    /** Mute or unmute the audio */ setMuted(muted) {\n        this.media.muted = muted;\n    }\n    /** Get the playback speed */ getPlaybackRate() {\n        return this.media.playbackRate;\n    }\n    /** Set the playback speed, pass an optional false to NOT preserve the pitch */ setPlaybackRate(rate, preservePitch) {\n        // preservePitch is true by default in most browsers\n        if (preservePitch != null) {\n            this.media.preservesPitch = preservePitch;\n        }\n        this.media.playbackRate = rate;\n    }\n    /** Get the HTML media element */ getMediaElement() {\n        return this.media;\n    }\n    /** Set a sink id to change the audio output device */ setSinkId(sinkId) {\n        // See https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId\n        const media = this.media;\n        return media.setSinkId(sinkId);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Player);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L3BsYXllci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4QztBQUM5QyxNQUFNQyxlQUFlRCx5REFBWUE7SUFDN0JFLFlBQVlDLE9BQU8sQ0FBRTtRQUNqQixLQUFLO1FBQ0wsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSUQsUUFBUUUsS0FBSyxFQUFFO1lBQ2YsSUFBSSxDQUFDQSxLQUFLLEdBQUdGLFFBQVFFLEtBQUs7WUFDMUIsSUFBSSxDQUFDRCxlQUFlLEdBQUc7UUFDM0IsT0FDSztZQUNELElBQUksQ0FBQ0MsS0FBSyxHQUFHQyxTQUFTQyxhQUFhLENBQUM7UUFDeEM7UUFDQSxXQUFXO1FBQ1gsSUFBSUosUUFBUUssYUFBYSxFQUFFO1lBQ3ZCLElBQUksQ0FBQ0gsS0FBSyxDQUFDSSxRQUFRLEdBQUc7UUFDMUI7UUFDQSxXQUFXO1FBQ1gsSUFBSU4sUUFBUU8sUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQ0wsS0FBSyxDQUFDSyxRQUFRLEdBQUc7UUFDMUI7UUFDQSxRQUFRO1FBQ1IsSUFBSVAsUUFBUVEsWUFBWSxJQUFJLE1BQU07WUFDOUIsSUFBSSxDQUFDQyxjQUFjLENBQUMsV0FBVztnQkFDM0IsSUFBSVQsUUFBUVEsWUFBWSxJQUFJLE1BQU07b0JBQzlCLElBQUksQ0FBQ04sS0FBSyxDQUFDTSxZQUFZLEdBQUdSLFFBQVFRLFlBQVk7Z0JBQ2xEO1lBQ0o7UUFDSjtJQUNKO0lBQ0FFLGFBQWFDLEtBQUssRUFBRUMsUUFBUSxFQUFFWixPQUFPLEVBQUU7UUFDbkMsSUFBSSxDQUFDRSxLQUFLLENBQUNXLGdCQUFnQixDQUFDRixPQUFPQyxVQUFVWjtRQUM3QyxPQUFPLElBQU0sSUFBSSxDQUFDRSxLQUFLLENBQUNZLG1CQUFtQixDQUFDSCxPQUFPQztJQUN2RDtJQUNBSCxlQUFlRSxLQUFLLEVBQUVDLFFBQVEsRUFBRTtRQUM1QixPQUFPLElBQUksQ0FBQ0YsWUFBWSxDQUFD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Qy9CRyxrQkFBa0I7UUFDZCxPQUFPLElBQUksQ0FBQ3RELEtBQUs7SUFDckI7SUFDQSxvREFBb0QsR0FDcER1RCxVQUFVQyxNQUFNLEVBQUU7UUFDZCxrRkFBa0Y7UUFDbEYsTUFBTXhELFFBQVEsSUFBSSxDQUFDQSxLQUFLO1FBQ3hCLE9BQU9BLE1BQU11RCxTQUFTLENBQUNDO0lBQzNCO0FBQ0o7QUFDQSxpRUFBZTVELE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbG9uZS13aGF0c2FwcC8uL25vZGVfbW9kdWxlcy93YXZlc3VyZmVyLmpzL2Rpc3QvcGxheWVyLmpzPzkzODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICcuL2V2ZW50LWVtaXR0ZXIuanMnO1xuY2xhc3MgUGxheWVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNFeHRlcm5hbE1lZGlhID0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRpb25zLm1lZGlhKSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhID0gb3B0aW9ucy5tZWRpYTtcbiAgICAgICAgICAgIHRoaXMuaXNFeHRlcm5hbE1lZGlhID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWVkaWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnRyb2xzXG4gICAgICAgIGlmIChvcHRpb25zLm1lZGlhQ29udHJvbHMpIHtcbiAgICAgICAgICAgIHRoaXMubWVkaWEuY29udHJvbHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF1dG9wbGF5XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9wbGF5KSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTcGVlZFxuICAgICAgICBpZiAob3B0aW9ucy5wbGF5YmFja1JhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5vbmNlTWVkaWFFdmVudCgnY2FucGxheScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wbGF5YmFja1JhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhLnBsYXliYWNrUmF0ZSA9IG9wdGlvbnMucGxheWJhY2tSYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTWVkaWFFdmVudChldmVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tZWRpYS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiAoKSA9PiB0aGlzLm1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgb25jZU1lZGlhRXZlbnQoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uTWVkaWFFdmVudChldmVudCwgY2FsbGJhY2ssIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gICAgZ2V0U3JjKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYS5jdXJyZW50U3JjIHx8IHRoaXMubWVkaWEuc3JjIHx8ICcnO1xuICAgIH1cbiAgICByZXZva2VTcmMoKSB7XG4gICAgICAgIGNvbnN0IHNyYyA9IHRoaXMuZ2V0U3JjKCk7XG4gICAgICAgIGlmIChzcmMuc3RhcnRzV2l0aCgnYmxvYjonKSkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFNyYyh1cmwsIGJsb2IpIHtcbiAgICAgICAgY29uc3Qgc3JjID0gdGhpcy5nZXRTcmMoKTtcbiAgICAgICAgaWYgKHNyYyA9PT0gdXJsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJldm9rZVNyYygpO1xuICAgICAgICBjb25zdCBuZXdTcmMgPSBibG9iIGluc3RhbmNlb2YgQmxvYiA/IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikgOiB1cmw7XG4gICAgICAgIHRoaXMubWVkaWEuc3JjID0gbmV3U3JjO1xuICAgICAgICB0aGlzLm1lZGlhLmxvYWQoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5tZWRpYS5wYXVzZSgpO1xuICAgICAgICBpZiAodGhpcy5pc0V4dGVybmFsTWVkaWEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMubWVkaWEucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucmV2b2tlU3JjKCk7XG4gICAgICAgIHRoaXMubWVkaWEuc3JjID0gJyc7XG4gICAgICAgIC8vIExvYWQgcmVzZXRzIHRoZSBtZWRpYSBlbGVtZW50IHRvIGl0cyBpbml0aWFsIHN0YXRlXG4gICAgICAgIHRoaXMubWVkaWEubG9hZCgpO1xuICAgIH1cbiAgICBzZXRNZWRpYUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLm1lZGlhID0gZWxlbWVudDtcbiAgICB9XG4gICAgLyoqIFN0YXJ0IHBsYXlpbmcgdGhlIGF1ZGlvICovXG4gICAgcGxheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWEucGxheSgpO1xuICAgIH1cbiAgICAvKiogUGF1c2UgdGhlIGF1ZGlvICovXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMubWVkaWEucGF1c2UoKTtcbiAgICB9XG4gICAgLyoqIENoZWNrIGlmIHRoZSBhdWRpbyBpcyBwbGF5aW5nICovXG4gICAgaXNQbGF5aW5nKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubWVkaWEucGF1c2VkICYmICF0aGlzLm1lZGlhLmVuZGVkO1xuICAgIH1cbiAgICAvKiogSnVtcHQgdG8gYSBzcGVjaWZpYyB0aW1lIGluIHRoZSBhdWRpbyAoaW4gc2Vjb25kcykgKi9cbiAgICBzZXRUaW1lKHRpbWUpIHtcbiAgICAgICAgdGhpcy5tZWRpYS5jdXJyZW50VGltZSA9IHRpbWU7XG4gICAgfVxuICAgIC8qKiBHZXQgdGhlIGR1cmF0aW9uIG9mIHRoZSBhdWRpbyBpbiBzZWNvbmRzICovXG4gICAgZ2V0RHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhLmR1cmF0aW9uO1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSBjdXJyZW50IGF1ZGlvIHBvc2l0aW9uIGluIHNlY29uZHMgKi9cbiAgICBnZXRDdXJyZW50VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWEuY3VycmVudFRpbWU7XG4gICAgfVxuICAgIC8qKiBHZXQgdGhlIGF1ZGlvIHZvbHVtZSAqL1xuICAgIGdldFZvbHVtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWEudm9sdW1lO1xuICAgIH1cbiAgICAvKiogU2V0IHRoZSBhdWRpbyB2b2x1bWUgKi9cbiAgICBzZXRWb2x1bWUodm9sdW1lKSB7XG4gICAgICAgIHRoaXMubWVkaWEudm9sdW1lID0gdm9sdW1lO1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSBhdWRpbyBtdXRlZCBzdGF0ZSAqL1xuICAgIGdldE11dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYS5tdXRlZDtcbiAgICB9XG4gICAgLyoqIE11dGUgb3IgdW5tdXRlIHRoZSBhdWRpbyAqL1xuICAgIHNldE11dGVkKG11dGVkKSB7XG4gICAgICAgIHRoaXMubWVkaWEubXV0ZWQgPSBtdXRlZDtcbiAgICB9XG4gICAgLyoqIEdldCB0aGUgcGxheWJhY2sgc3BlZWQgKi9cbiAgICBnZXRQbGF5YmFja1JhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhLnBsYXliYWNrUmF0ZTtcbiAgICB9XG4gICAgLyoqIFNldCB0aGUgcGxheWJhY2sgc3BlZWQsIHBhc3MgYW4gb3B0aW9uYWwgZmFsc2UgdG8gTk9UIHByZXNlcnZlIHRoZSBwaXRjaCAqL1xuICAgIHNldFBsYXliYWNrUmF0ZShyYXRlLCBwcmVzZXJ2ZVBpdGNoKSB7XG4gICAgICAgIC8vIHByZXNlcnZlUGl0Y2ggaXMgdHJ1ZSBieSBkZWZhdWx0IGluIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgaWYgKHByZXNlcnZlUGl0Y2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tZWRpYS5wcmVzZXJ2ZXNQaXRjaCA9IHByZXNlcnZlUGl0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWRpYS5wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSBIVE1MIG1lZGlhIGVsZW1lbnQgKi9cbiAgICBnZXRNZWRpYUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhO1xuICAgIH1cbiAgICAvKiogU2V0IGEgc2luayBpZCB0byBjaGFuZ2UgdGhlIGF1ZGlvIG91dHB1dCBkZXZpY2UgKi9cbiAgICBzZXRTaW5rSWQoc2lua0lkKSB7XG4gICAgICAgIC8vIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTE1lZGlhRWxlbWVudC9zZXRTaW5rSWRcbiAgICAgICAgY29uc3QgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICByZXR1cm4gbWVkaWEuc2V0U2lua0lkKHNpbmtJZCk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgUGxheWVyO1xuIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsIlBsYXllciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImlzRXh0ZXJuYWxNZWRpYSIsIm1lZGlhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwibWVkaWFDb250cm9scyIsImNvbnRyb2xzIiwiYXV0b3BsYXkiLCJwbGF5YmFja1JhdGUiLCJvbmNlTWVkaWFFdmVudCIsIm9uTWVkaWFFdmVudCIsImV2ZW50IiwiY2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJnZXRTcmMiLCJjdXJyZW50U3JjIiwic3JjIiwicmV2b2tlU3JjIiwic3RhcnRzV2l0aCIsIlVSTCIsInJldm9rZU9iamVjdFVSTCIsInNldFNyYyIsInVybCIsImJsb2IiLCJuZXdTcmMiLCJCbG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwibG9hZCIsImRlc3Ryb3kiLCJwYXVzZSIsInJlbW92ZSIsInNldE1lZGlhRWxlbWVudCIsImVsZW1lbnQiLCJwbGF5IiwiaXNQbGF5aW5nIiwicGF1c2VkIiwiZW5kZWQiLCJzZXRUaW1lIiwidGltZSIsImN1cnJlbnRUaW1lIiwiZ2V0RHVyYXRpb24iLCJkdXJhdGlvbiIsImdldEN1cnJlbnRUaW1lIiwiZ2V0Vm9sdW1lIiwidm9sdW1lIiwic2V0Vm9sdW1lIiwiZ2V0TXV0ZWQiLCJtdXRlZCIsInNldE11dGVkIiwiZ2V0UGxheWJhY2tSYXRlIiwic2V0UGxheWJhY2tSYXRlIiwicmF0ZSIsInByZXNlcnZlUGl0Y2giLCJwcmVzZXJ2ZXNQaXRjaCIsImdldE1lZGlhRWxlbWVudCIsInNldFNpbmtJZCIsInNpbmtJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/player.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/renderer.js":
/*!*****************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/renderer.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _draggable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./draggable.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/draggable.js\");\n/* harmony import */ var _event_emitter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-emitter.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/event-emitter.js\");\n\n\nclass Renderer extends _event_emitter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    constructor(options, audioElement){\n        super();\n        this.timeouts = [];\n        this.isScrolling = false;\n        this.audioData = null;\n        this.resizeObserver = null;\n        this.isDragging = false;\n        this.options = options;\n        const parent = this.parentFromOptionsContainer(options.container);\n        this.parent = parent;\n        const [div, shadow] = this.initHtml();\n        parent.appendChild(div);\n        this.container = div;\n        this.scrollContainer = shadow.querySelector(\".scroll\");\n        this.wrapper = shadow.querySelector(\".wrapper\");\n        this.canvasWrapper = shadow.querySelector(\".canvases\");\n        this.progressWrapper = shadow.querySelector(\".progress\");\n        this.cursor = shadow.querySelector(\".cursor\");\n        if (audioElement) {\n            shadow.appendChild(audioElement);\n        }\n        this.initEvents();\n    }\n    parentFromOptionsContainer(container) {\n        let parent;\n        if (typeof container === \"string\") {\n            parent = document.querySelector(container);\n        } else if (container instanceof HTMLElement) {\n            parent = container;\n        }\n        if (!parent) {\n            throw new Error(\"Container not found\");\n        }\n        return parent;\n    }\n    initEvents() {\n        const getClickPosition = (e)=>{\n            const rect = this.wrapper.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientX - rect.left;\n            const relativeX = x / rect.width;\n            const relativeY = y / rect.height;\n            return [\n                relativeX,\n                relativeY\n            ];\n        };\n        // Add a click listener\n        this.wrapper.addEventListener(\"click\", (e)=>{\n            const [x, y] = getClickPosition(e);\n            this.emit(\"click\", x, y);\n        });\n        // Add a double click listener\n        this.wrapper.addEventListener(\"dblclick\", (e)=>{\n            const [x, y] = getClickPosition(e);\n            this.emit(\"dblclick\", x, y);\n        });\n        // Drag\n        if (this.options.dragToSeek) {\n            this.initDrag();\n        }\n        // Add a scroll listener\n        this.scrollContainer.addEventListener(\"scroll\", ()=>{\n            const { scrollLeft, scrollWidth, clientWidth } = this.scrollContainer;\n            const startX = scrollLeft / scrollWidth;\n            const endX = (scrollLeft + clientWidth) / scrollWidth;\n            this.emit(\"scroll\", startX, endX);\n        });\n        // Re-render the waveform on container resize\n        const delay = this.createDelay(100);\n        this.resizeObserver = new ResizeObserver(()=>{\n            delay(()=>this.reRender());\n        });\n        this.resizeObserver.observe(this.scrollContainer);\n    }\n    initDrag() {\n        (0,_draggable_js__WEBPACK_IMPORTED_MODULE_0__.makeDraggable)(this.wrapper, // On drag\n        (_, __, x)=>{\n            this.emit(\"drag\", Math.max(0, Math.min(1, x / this.wrapper.getBoundingClientRect().width)));\n        }, // On start drag\n        ()=>this.isDragging = true, // On end drag\n        ()=>this.isDragging = false);\n    }\n    getHeight() {\n        const defaultHeight = 128;\n        if (this.options.height == null) return defaultHeight;\n        if (!isNaN(Number(this.options.height))) return Number(this.options.height);\n        if (this.options.height === \"auto\") return this.parent.clientHeight || defaultHeight;\n        return defaultHeight;\n    }\n    initHtml() {\n        const div = document.createElement(\"div\");\n        const shadow = div.attachShadow({\n            mode: \"open\"\n        });\n        shadow.innerHTML = `\n      <style>\n        :host {\n          user-select: none;\n          min-width: 1px;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight()}px;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class=\"scroll\" part=\"scroll\">\n        <div class=\"wrapper\" part=\"wrapper\">\n          <div class=\"canvases\"></div>\n          <div class=\"progress\" part=\"progress\"></div>\n          <div class=\"cursor\" part=\"cursor\"></div>\n        </div>\n      </div>\n    `;\n        return [\n            div,\n            shadow\n        ];\n    }\n    /** Wavesurfer itself calls this method. Do not call it manually. */ setOptions(options) {\n        if (this.options.container !== options.container) {\n            const newParent = this.parentFromOptionsContainer(options.container);\n            newParent.appendChild(this.container);\n            this.parent = newParent;\n        }\n        if (options.dragToSeek && !this.options.dragToSeek) {\n            this.initDrag();\n        }\n        this.options = options;\n        // Re-render the waveform\n        this.reRender();\n    }\n    getWrapper() {\n        return this.wrapper;\n    }\n    getScroll() {\n        return this.scrollContainer.scrollLeft;\n    }\n    destroy() {\n        var _a;\n        this.container.remove();\n        (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    }\n    createDelay(delayMs = 10) {\n        const context = {};\n        this.timeouts.push(context);\n        return (callback)=>{\n            context.timeout && clearTimeout(context.timeout);\n            context.timeout = setTimeout(callback, delayMs);\n        };\n    }\n    // Convert array of color values to linear gradient\n    convertColorValues(color) {\n        if (!Array.isArray(color)) return color || \"\";\n        if (color.length < 2) return color[0] || \"\";\n        const canvasElement = document.createElement(\"canvas\");\n        const ctx = canvasElement.getContext(\"2d\");\n        const gradient = ctx.createLinearGradient(0, 0, 0, canvasElement.height);\n        const colorStopPercentage = 1 / (color.length - 1);\n        color.forEach((color, index)=>{\n            const offset = index * colorStopPercentage;\n            gradient.addColorStop(offset, color);\n        });\n        return gradient;\n    }\n    renderBarWaveform(channelData, options, ctx, vScale) {\n        const topChannel = channelData[0];\n        const bottomChannel = channelData[1] || channelData[0];\n        const length = topChannel.length;\n        const { width, height } = ctx.canvas;\n        const halfHeight = height / 2;\n        const pixelRatio = window.devicePixelRatio || 1;\n        const barWidth = options.barWidth ? options.barWidth * pixelRatio : 1;\n        const barGap = options.barGap ? options.barGap * pixelRatio : options.barWidth ? barWidth / 2 : 0;\n        const barRadius = options.barRadius || 0;\n        const barIndexScale = width / (barWidth + barGap) / length;\n        const rectFn = barRadius && \"roundRect\" in ctx ? \"roundRect\" : \"rect\";\n        ctx.beginPath();\n        let prevX = 0;\n        let maxTop = 0;\n        let maxBottom = 0;\n        for(let i = 0; i <= length; i++){\n            const x = Math.round(i * barIndexScale);\n            if (x > prevX) {\n                const topBarHeight = Math.round(maxTop * halfHeight * vScale);\n                const bottomBarHeight = Math.round(maxBottom * halfHeight * vScale);\n                const barHeight = topBarHeight + bottomBarHeight || 1;\n                // Vertical alignment\n                let y = halfHeight - topBarHeight;\n                if (options.barAlign === \"top\") {\n                    y = 0;\n                } else if (options.barAlign === \"bottom\") {\n                    y = height - barHeight;\n                }\n                ctx[rectFn](prevX * (barWidth + barGap), y, barWidth, barHeight, barRadius);\n                prevX = x;\n                maxTop = 0;\n                maxBottom = 0;\n            }\n            const magnitudeTop = Math.abs(topChannel[i] || 0);\n            const magnitudeBottom = Math.abs(bottomChannel[i] || 0);\n            if (magnitudeTop > maxTop) maxTop = magnitudeTop;\n            if (magnitudeBottom > maxBottom) maxBottom = magnitudeBottom;\n        }\n        ctx.fill();\n        ctx.closePath();\n    }\n    renderLineWaveform(channelData, _options, ctx, vScale) {\n        const drawChannel = (index)=>{\n            const channel = channelData[index] || channelData[0];\n            const length = channel.length;\n            const { height } = ctx.canvas;\n            const halfHeight = height / 2;\n            const hScale = ctx.canvas.width / length;\n            ctx.moveTo(0, halfHeight);\n            let prevX = 0;\n            let max = 0;\n            for(let i = 0; i <= length; i++){\n                const x = Math.round(i * hScale);\n                if (x > prevX) {\n                    const h = Math.round(max * halfHeight * vScale) || 1;\n                    const y = halfHeight + h * (index === 0 ? -1 : 1);\n                    ctx.lineTo(prevX, y);\n                    prevX = x;\n                    max = 0;\n                }\n                const value = Math.abs(channel[i] || 0);\n                if (value > max) max = value;\n            }\n            ctx.lineTo(prevX, halfHeight);\n        };\n        ctx.beginPath();\n        drawChannel(0);\n        drawChannel(1);\n        ctx.fill();\n        ctx.closePath();\n    }\n    renderWaveform(channelData, options, ctx) {\n        ctx.fillStyle = this.convertColorValues(options.waveColor);\n        // Custom rendering function\n        if (options.renderFunction) {\n            options.renderFunction(channelData, ctx);\n            return;\n        }\n        // Vertical scaling\n        let vScale = options.barHeight || 1;\n        if (options.normalize) {\n            const max = Array.from(channelData[0]).reduce((max, value)=>Math.max(max, Math.abs(value)), 0);\n            vScale = max ? 1 / max : 1;\n        }\n        // Render waveform as bars\n        if (options.barWidth || options.barGap || options.barAlign) {\n            this.renderBarWaveform(channelData, options, ctx, vScale);\n            return;\n        }\n        // Render waveform as a polyline\n        this.renderLineWaveform(channelData, options, ctx, vScale);\n    }\n    renderSingleCanvas(channelData, options, width, height, start, end, canvasContainer, progressContainer) {\n        const pixelRatio = window.devicePixelRatio || 1;\n        const canvas = document.createElement(\"canvas\");\n        const length = channelData[0].length;\n        canvas.width = Math.round(width * (end - start) / length);\n        canvas.height = height * pixelRatio;\n        canvas.style.width = `${Math.floor(canvas.width / pixelRatio)}px`;\n        canvas.style.height = `${height}px`;\n        canvas.style.left = `${Math.floor(start * width / pixelRatio / length)}px`;\n        canvasContainer.appendChild(canvas);\n        const ctx = canvas.getContext(\"2d\");\n        this.renderWaveform(channelData.map((channel)=>channel.slice(start, end)), options, ctx);\n        // Draw a progress canvas\n        if (canvas.width > 0 && canvas.height > 0) {\n            const progressCanvas = canvas.cloneNode();\n            const progressCtx = progressCanvas.getContext(\"2d\");\n            progressCtx.drawImage(canvas, 0, 0);\n            // Set the composition method to draw only where the waveform is drawn\n            progressCtx.globalCompositeOperation = \"source-in\";\n            progressCtx.fillStyle = this.convertColorValues(options.progressColor);\n            // This rectangle acts as a mask thanks to the composition method\n            progressCtx.fillRect(0, 0, canvas.width, canvas.height);\n            progressContainer.appendChild(progressCanvas);\n        }\n    }\n    renderChannel(channelData, options, width) {\n        // A container for canvases\n        const canvasContainer = document.createElement(\"div\");\n        const height = this.getHeight();\n        canvasContainer.style.height = `${height}px`;\n        this.canvasWrapper.style.minHeight = `${height}px`;\n        this.canvasWrapper.appendChild(canvasContainer);\n        // A container for progress canvases\n        const progressContainer = canvasContainer.cloneNode();\n        this.progressWrapper.appendChild(progressContainer);\n        // Determine the currently visible part of the waveform\n        const { scrollLeft, scrollWidth, clientWidth } = this.scrollContainer;\n        const len = channelData[0].length;\n        const scale = len / scrollWidth;\n        let viewportWidth = Math.min(Renderer.MAX_CANVAS_WIDTH, clientWidth);\n        // Adjust width to avoid gaps between canvases when using bars\n        if (options.barWidth || options.barGap) {\n            const barWidth = options.barWidth || 0.5;\n            const barGap = options.barGap || barWidth / 2;\n            const totalBarWidth = barWidth + barGap;\n            if (viewportWidth % totalBarWidth !== 0) {\n                viewportWidth = Math.floor(viewportWidth / totalBarWidth) * totalBarWidth;\n            }\n        }\n        const start = Math.floor(Math.abs(scrollLeft) * scale);\n        const end = Math.floor(start + viewportWidth * scale);\n        const viewportLen = end - start;\n        // Draw a portion of the waveform from start peak to end peak\n        const draw = (start, end)=>{\n            this.renderSingleCanvas(channelData, options, width, height, Math.max(0, start), Math.min(end, len), canvasContainer, progressContainer);\n        };\n        // Draw the waveform in viewport chunks, each with a delay\n        const headDelay = this.createDelay();\n        const tailDelay = this.createDelay();\n        const renderHead = (fromIndex, toIndex)=>{\n            draw(fromIndex, toIndex);\n            if (fromIndex > 0) {\n                headDelay(()=>{\n                    renderHead(fromIndex - viewportLen, toIndex - viewportLen);\n                });\n            }\n        };\n        const renderTail = (fromIndex, toIndex)=>{\n            draw(fromIndex, toIndex);\n            if (toIndex < len) {\n                tailDelay(()=>{\n                    renderTail(fromIndex + viewportLen, toIndex + viewportLen);\n                });\n            }\n        };\n        renderHead(start, end);\n        if (end < len) {\n            renderTail(end, end + viewportLen);\n        }\n    }\n    render(audioData) {\n        // Clear previous timeouts\n        this.timeouts.forEach((context)=>context.timeout && clearTimeout(context.timeout));\n        this.timeouts = [];\n        // Clear the canvases\n        this.canvasWrapper.innerHTML = \"\";\n        this.progressWrapper.innerHTML = \"\";\n        this.wrapper.style.width = \"\";\n        // Width\n        if (this.options.width != null) {\n            this.scrollContainer.style.width = typeof this.options.width === \"number\" ? `${this.options.width}px` : this.options.width;\n        }\n        // Determine the width of the waveform\n        const pixelRatio = window.devicePixelRatio || 1;\n        const parentWidth = this.scrollContainer.clientWidth;\n        const scrollWidth = Math.ceil(audioData.duration * (this.options.minPxPerSec || 0));\n        // Whether the container should scroll\n        this.isScrolling = scrollWidth > parentWidth;\n        const useParentWidth = this.options.fillParent && !this.isScrolling;\n        // Width of the waveform in pixels\n        const width = (useParentWidth ? parentWidth : scrollWidth) * pixelRatio;\n        // Set the width of the wrapper\n        this.wrapper.style.width = useParentWidth ? \"100%\" : `${scrollWidth}px`;\n        // Set additional styles\n        this.scrollContainer.style.overflowX = this.isScrolling ? \"auto\" : \"hidden\";\n        this.scrollContainer.classList.toggle(\"noScrollbar\", !!this.options.hideScrollbar);\n        this.cursor.style.backgroundColor = `${this.options.cursorColor || this.options.progressColor}`;\n        this.cursor.style.width = `${this.options.cursorWidth}px`;\n        // Render the waveform\n        if (this.options.splitChannels) {\n            // Render a waveform for each channel\n            for(let i = 0; i < audioData.numberOfChannels; i++){\n                const options = Object.assign(Object.assign({}, this.options), this.options.splitChannels[i]);\n                this.renderChannel([\n                    audioData.getChannelData(i)\n                ], options, width);\n            }\n        } else {\n            // Render a single waveform for the first two channels (left and right)\n            const channels = [\n                audioData.getChannelData(0)\n            ];\n            if (audioData.numberOfChannels > 1) channels.push(audioData.getChannelData(1));\n            this.renderChannel(channels, this.options, width);\n        }\n        this.audioData = audioData;\n        this.emit(\"render\");\n    }\n    reRender() {\n        // Return if the waveform has not been rendered yet\n        if (!this.audioData) return;\n        // Remember the current cursor position\n        const oldCursorPosition = this.progressWrapper.clientWidth;\n        // Set the new zoom level and re-render the waveform\n        this.render(this.audioData);\n        // Adjust the scroll position so that the cursor stays in the same place\n        const newCursortPosition = this.progressWrapper.clientWidth;\n        this.scrollContainer.scrollLeft += newCursortPosition - oldCursorPosition;\n    }\n    zoom(minPxPerSec) {\n        this.options.minPxPerSec = minPxPerSec;\n        this.reRender();\n    }\n    scrollIntoView(progress, isPlaying = false) {\n        const { clientWidth, scrollLeft, scrollWidth } = this.scrollContainer;\n        const progressWidth = scrollWidth * progress;\n        const center = clientWidth / 2;\n        const minScroll = isPlaying && this.options.autoCenter && !this.isDragging ? center : clientWidth;\n        if (progressWidth > scrollLeft + minScroll || progressWidth < scrollLeft) {\n            // Scroll to the center\n            if (this.options.autoCenter && !this.isDragging) {\n                // If the cursor is in viewport but not centered, scroll to the center slowly\n                const minDiff = center / 20;\n                if (progressWidth - (scrollLeft + center) >= minDiff && progressWidth < scrollLeft + clientWidth) {\n                    this.scrollContainer.scrollLeft += minDiff;\n                } else {\n                    // Otherwise, scroll to the center immediately\n                    this.scrollContainer.scrollLeft = progressWidth - center;\n                }\n            } else if (this.isDragging) {\n                // Scroll just a little bit to allow for some space between the cursor and the edge\n                const gap = 10;\n                this.scrollContainer.scrollLeft = progressWidth < scrollLeft ? progressWidth - gap : progressWidth - clientWidth + gap;\n            } else {\n                // Scroll to the beginning\n                this.scrollContainer.scrollLeft = progressWidth;\n            }\n        }\n        // Emit the scroll event\n        {\n            const { scrollLeft } = this.scrollContainer;\n            const startX = scrollLeft / scrollWidth;\n            const endX = (scrollLeft + clientWidth) / scrollWidth;\n            this.emit(\"scroll\", startX, endX);\n        }\n    }\n    renderProgress(progress, isPlaying) {\n        if (isNaN(progress)) return;\n        const percents = progress * 100;\n        this.canvasWrapper.style.clipPath = `polygon(${percents}% 0, 100% 0, 100% 100%, ${percents}% 100%)`;\n        this.progressWrapper.style.width = `${percents}%`;\n        this.cursor.style.left = `${percents}%`;\n        this.cursor.style.marginLeft = Math.round(percents) === 100 ? `-${this.options.cursorWidth}px` : \"\";\n        if (this.isScrolling && this.options.autoScroll) {\n            this.scrollIntoView(progress, isPlaying);\n        }\n    }\n}\nRenderer.MAX_CANVAS_WIDTH = 4000;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Renderer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L3JlbmRlcmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUNEO0FBQzlDLE1BQU1FLGlCQUFpQkQseURBQVlBO0lBQy9CRSxZQUFZQyxPQUFPLEVBQUVDLFlBQVksQ0FBRTtRQUMvQixLQUFLO1FBQ0wsSUFBSSxDQUFDQyxRQUFRLEdBQUcsRUFBRTtRQUNsQixJQUFJLENBQUNDLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNDLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUNDLGNBQWMsR0FBRztRQUN0QixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNOLE9BQU8sR0FBR0E7UUFDZixNQUFNTyxTQUFTLElBQUksQ0FBQ0MsMEJBQTBCLENBQUNSLFFBQVFTLFNBQVM7UUFDaEUsSUFBSSxDQUFDRixNQUFNLEdBQUdBO1FBQ2QsTUFBTSxDQUFDRyxLQUFLQyxPQUFPLEdBQUcsSUFBSSxDQUFDQyxRQUFRO1FBQ25DTCxPQUFPTSxXQUFXLENBQUNIO1FBQ25CLElBQUksQ0FBQ0QsU0FBUyxHQUFHQztRQUNqQixJQUFJLENBQUNJLGVBQWUsR0FBR0gsT0FBT0ksYUFBYSxDQUFDO1FBQzVDLElBQUksQ0FBQ0MsT0FBTyxHQUFHTCxPQUFPSSxhQUFhLENBQUM7UUFDcEMsSUFBSSxDQUFDRSxhQUFhLEdBQUdOLE9BQU9JLGFBQWEsQ0FBQztRQUMxQyxJQUFJLENBQUNHLGVBQWUsR0FBR1AsT0FBT0ksYUFBYSxDQUFDO1FBQzVDLElBQUksQ0FBQ0ksTUFBTSxHQUFHUixPQUFPSSxhQUFhLENBQUM7UUFDbkMsSUFBSWQsY0FBYztZQUNkVSxPQUFPRSxXQUFXLENBQUNaO1FBQ3ZCO1FBQ0EsSUFBSSxDQUFDbUIsVUFBVTtJQUNuQjtJQUNBWiwyQkFBMkJDLFNBQVMsRUFBRTtRQUNsQyxJQUFJRjtRQUNKLElBQUksT0FBT0UsY0FBYyxVQUFVO1lBQy9CRixTQUFTYyxTQUFTTixhQUFh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QVVNLFFBQVFDO1FBQ2hDO0lBQ0o7SUFDQStKLGVBQWVSLFFBQVEsRUFBRUMsU0FBUyxFQUFFO1FBQ2hDLElBQUkzSSxNQUFNMEksV0FDTjtRQUNKLE1BQU1TLFdBQVdULFdBQVc7UUFDNUIsSUFBSSxDQUFDbEwsYUFBYSxDQUFDZ0ksS0FBSyxDQUFDNEQsUUFBUSxHQUFHLENBQUMsUUFBUSxFQUFFRCxTQUFTLHdCQUF3QixFQUFFQSxTQUFTLE9BQU8sQ0FBQztRQUNuRyxJQUFJLENBQUMxTCxlQUFlLENBQUMrSCxLQUFLLENBQUNoSCxLQUFLLEdBQUcsQ0FBQyxFQUFFMkssU0FBUyxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDekwsTUFBTSxDQUFDOEgsS0FBSyxDQUFDbkgsSUFBSSxHQUFHLENBQUMsRUFBRThLLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQ3pMLE1BQU0sQ0FBQzhILEtBQUssQ0FBQzZELFVBQVUsR0FBRzFKLEtBQUs4RCxLQUFLLENBQUMwRixjQUFjLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDNU0sT0FBTyxDQUFDd0wsV0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHO1FBQ2pHLElBQUksSUFBSSxDQUFDckwsV0FBVyxJQUFJLElBQUksQ0FBQ0gsT0FBTyxDQUFDK00sVUFBVSxFQUFFO1lBQzdDLElBQUksQ0FBQ2IsY0FBYyxDQUFDQyxVQUFVQztRQUNsQztJQUNKO0FBQ0o7QUFDQXRNLFNBQVNtSyxnQkFBZ0IsR0FBRztBQUM1QixpRUFBZW5LLFFBQVFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbG9uZS13aGF0c2FwcC8uL25vZGVfbW9kdWxlcy93YXZlc3VyZmVyLmpzL2Rpc3QvcmVuZGVyZXIuanM/YjkwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWtlRHJhZ2dhYmxlIH0gZnJvbSAnLi9kcmFnZ2FibGUuanMnO1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICcuL2V2ZW50LWVtaXR0ZXIuanMnO1xuY2xhc3MgUmVuZGVyZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGF1ZGlvRWxlbWVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRpbWVvdXRzID0gW107XG4gICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hdWRpb0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50RnJvbU9wdGlvbnNDb250YWluZXIob3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgY29uc3QgW2Rpdiwgc2hhZG93XSA9IHRoaXMuaW5pdEh0bWwoKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZGl2O1xuICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lciA9IHNoYWRvdy5xdWVyeVNlbGVjdG9yKCcuc2Nyb2xsJyk7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IHNoYWRvdy5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIgPSBzaGFkb3cucXVlcnlTZWxlY3RvcignLmNhbnZhc2VzJyk7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3NXcmFwcGVyID0gc2hhZG93LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcycpO1xuICAgICAgICB0aGlzLmN1cnNvciA9IHNoYWRvdy5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yJyk7XG4gICAgICAgIGlmIChhdWRpb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChhdWRpb0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdEV2ZW50cygpO1xuICAgIH1cbiAgICBwYXJlbnRGcm9tT3B0aW9uc0NvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICAgICAgbGV0IHBhcmVudDtcbiAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHBhcmVudCA9IGNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb250YWluZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG4gICAgaW5pdEV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgZ2V0Q2xpY2tQb3NpdGlvbiA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWN0ID0gdGhpcy53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgeCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVggPSB4IC8gcmVjdC53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlWSA9IHkgLyByZWN0LmhlaWdodDtcbiAgICAgICAgICAgIHJldHVybiBbcmVsYXRpdmVYLCByZWxhdGl2ZVldO1xuICAgICAgICB9O1xuICAgICAgICAvLyBBZGQgYSBjbGljayBsaXN0ZW5lclxuICAgICAgICB0aGlzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW3gsIHldID0gZ2V0Q2xpY2tQb3NpdGlvbihlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2xpY2snLCB4LCB5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZCBhIGRvdWJsZSBjbGljayBsaXN0ZW5lclxuICAgICAgICB0aGlzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW3gsIHldID0gZ2V0Q2xpY2tQb3NpdGlvbihlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZGJsY2xpY2snLCB4LCB5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIERyYWdcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcmFnVG9TZWVrKSB7XG4gICAgICAgICAgICB0aGlzLmluaXREcmFnKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGEgc2Nyb2xsIGxpc3RlbmVyXG4gICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsTGVmdCwgc2Nyb2xsV2lkdGgsIGNsaWVudFdpZHRoIH0gPSB0aGlzLnNjcm9sbENvbnRhaW5lcjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0WCA9IHNjcm9sbExlZnQgLyBzY3JvbGxXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGVuZFggPSAoc2Nyb2xsTGVmdCArIGNsaWVudFdpZHRoKSAvIHNjcm9sbFdpZHRoO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdzY3JvbGwnLCBzdGFydFgsIGVuZFgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gUmUtcmVuZGVyIHRoZSB3YXZlZm9ybSBvbiBjb250YWluZXIgcmVzaXplXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5jcmVhdGVEZWxheSgxMDApO1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIGRlbGF5KCgpID0+IHRoaXMucmVSZW5kZXIoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5zY3JvbGxDb250YWluZXIpO1xuICAgIH1cbiAgICBpbml0RHJhZygpIHtcbiAgICAgICAgbWFrZURyYWdnYWJsZSh0aGlzLndyYXBwZXIsIFxuICAgICAgICAvLyBPbiBkcmFnXG4gICAgICAgIChfLCBfXywgeCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdkcmFnJywgTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgeCAvIHRoaXMud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCkpKTtcbiAgICAgICAgfSwgXG4gICAgICAgIC8vIE9uIHN0YXJ0IGRyYWdcbiAgICAgICAgKCkgPT4gKHRoaXMuaXNEcmFnZ2luZyA9IHRydWUpLCBcbiAgICAgICAgLy8gT24gZW5kIGRyYWdcbiAgICAgICAgKCkgPT4gKHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlKSk7XG4gICAgfVxuICAgIGdldEhlaWdodCgpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEhlaWdodCA9IDEyODtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWlnaHQgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0SGVpZ2h0O1xuICAgICAgICBpZiAoIWlzTmFOKE51bWJlcih0aGlzLm9wdGlvbnMuaGVpZ2h0KSkpXG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMub3B0aW9ucy5oZWlnaHQpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhlaWdodCA9PT0gJ2F1dG8nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNsaWVudEhlaWdodCB8fCBkZWZhdWx0SGVpZ2h0O1xuICAgICAgICByZXR1cm4gZGVmYXVsdEhlaWdodDtcbiAgICB9XG4gICAgaW5pdEh0bWwoKSB7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBzaGFkb3cgPSBkaXYuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICBzaGFkb3cuaW5uZXJIVE1MID0gYFxuICAgICAgPHN0eWxlPlxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgbWluLXdpZHRoOiAxcHg7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QgYXVkaW8ge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0IC5zY3JvbGwge1xuICAgICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCAubm9TY3JvbGxiYXIge1xuICAgICAgICAgIHNjcm9sbGJhci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0IC5ub1Njcm9sbGJhcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0IC53cmFwcGVyIHtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICAgICAgei1pbmRleDogMjtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCAuY2FudmFzZXMge1xuICAgICAgICAgIG1pbi1oZWlnaHQ6ICR7dGhpcy5nZXRIZWlnaHQoKX1weDtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCAuY2FudmFzZXMgPiBkaXYge1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCBjYW52YXMge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgaW1hZ2UtcmVuZGVyaW5nOiBwaXhlbGF0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QgLnByb2dyZXNzIHtcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgei1pbmRleDogMjtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCAucHJvZ3Jlc3MgPiBkaXYge1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCAuY3Vyc29yIHtcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgei1pbmRleDogNTtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwic2Nyb2xsXCIgcGFydD1cInNjcm9sbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwid3JhcHBlclwiIHBhcnQ9XCJ3cmFwcGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhbnZhc2VzXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzXCIgcGFydD1cInByb2dyZXNzXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN1cnNvclwiIHBhcnQ9XCJjdXJzb3JcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgICAgICByZXR1cm4gW2Rpdiwgc2hhZG93XTtcbiAgICB9XG4gICAgLyoqIFdhdmVzdXJmZXIgaXRzZWxmIGNhbGxzIHRoaXMgbWV0aG9kLiBEbyBub3QgY2FsbCBpdCBtYW51YWxseS4gKi9cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb250YWluZXIgIT09IG9wdGlvbnMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQYXJlbnQgPSB0aGlzLnBhcmVudEZyb21PcHRpb25zQ29udGFpbmVyKG9wdGlvbnMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIG5ld1BhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IG5ld1BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5kcmFnVG9TZWVrICYmICF0aGlzLm9wdGlvbnMuZHJhZ1RvU2Vlaykge1xuICAgICAgICAgICAgdGhpcy5pbml0RHJhZygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIC8vIFJlLXJlbmRlciB0aGUgd2F2ZWZvcm1cbiAgICAgICAgdGhpcy5yZVJlbmRlcigpO1xuICAgIH1cbiAgICBnZXRXcmFwcGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyO1xuICAgIH1cbiAgICBnZXRTY3JvbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAoX2EgPSB0aGlzLnJlc2l6ZU9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgICBjcmVhdGVEZWxheShkZWxheU1zID0gMTApIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHt9O1xuICAgICAgICB0aGlzLnRpbWVvdXRzLnB1c2goY29udGV4dCk7XG4gICAgICAgIHJldHVybiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGNvbnRleHQudGltZW91dCAmJiBjbGVhclRpbWVvdXQoY29udGV4dC50aW1lb3V0KTtcbiAgICAgICAgICAgIGNvbnRleHQudGltZW91dCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5TXMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IGFycmF5IG9mIGNvbG9yIHZhbHVlcyB0byBsaW5lYXIgZ3JhZGllbnRcbiAgICBjb252ZXJ0Q29sb3JWYWx1ZXMoY29sb3IpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSlcbiAgICAgICAgICAgIHJldHVybiBjb2xvciB8fCAnJztcbiAgICAgICAgaWYgKGNvbG9yLmxlbmd0aCA8IDIpXG4gICAgICAgICAgICByZXR1cm4gY29sb3JbMF0gfHwgJyc7XG4gICAgICAgIGNvbnN0IGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjb25zdCBncmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCBjYW52YXNFbGVtZW50LmhlaWdodCk7XG4gICAgICAgIGNvbnN0IGNvbG9yU3RvcFBlcmNlbnRhZ2UgPSAxIC8gKGNvbG9yLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb2xvci5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGluZGV4ICogY29sb3JTdG9wUGVyY2VudGFnZTtcbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChvZmZzZXQsIGNvbG9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9XG4gICAgcmVuZGVyQmFyV2F2ZWZvcm0oY2hhbm5lbERhdGEsIG9wdGlvbnMsIGN0eCwgdlNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHRvcENoYW5uZWwgPSBjaGFubmVsRGF0YVswXTtcbiAgICAgICAgY29uc3QgYm90dG9tQ2hhbm5lbCA9IGNoYW5uZWxEYXRhWzFdIHx8IGNoYW5uZWxEYXRhWzBdO1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0b3BDaGFubmVsLmxlbmd0aDtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjdHguY2FudmFzO1xuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIGNvbnN0IGJhcldpZHRoID0gb3B0aW9ucy5iYXJXaWR0aCA/IG9wdGlvbnMuYmFyV2lkdGggKiBwaXhlbFJhdGlvIDogMTtcbiAgICAgICAgY29uc3QgYmFyR2FwID0gb3B0aW9ucy5iYXJHYXAgPyBvcHRpb25zLmJhckdhcCAqIHBpeGVsUmF0aW8gOiBvcHRpb25zLmJhcldpZHRoID8gYmFyV2lkdGggLyAyIDogMDtcbiAgICAgICAgY29uc3QgYmFyUmFkaXVzID0gb3B0aW9ucy5iYXJSYWRpdXMgfHwgMDtcbiAgICAgICAgY29uc3QgYmFySW5kZXhTY2FsZSA9IHdpZHRoIC8gKGJhcldpZHRoICsgYmFyR2FwKSAvIGxlbmd0aDtcbiAgICAgICAgY29uc3QgcmVjdEZuID0gYmFyUmFkaXVzICYmICdyb3VuZFJlY3QnIGluIGN0eCA/ICdyb3VuZFJlY3QnIDogJ3JlY3QnO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGxldCBwcmV2WCA9IDA7XG4gICAgICAgIGxldCBtYXhUb3AgPSAwO1xuICAgICAgICBsZXQgbWF4Qm90dG9tID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLnJvdW5kKGkgKiBiYXJJbmRleFNjYWxlKTtcbiAgICAgICAgICAgIGlmICh4ID4gcHJldlgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3BCYXJIZWlnaHQgPSBNYXRoLnJvdW5kKG1heFRvcCAqIGhhbGZIZWlnaHQgKiB2U2NhbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvdHRvbUJhckhlaWdodCA9IE1hdGgucm91bmQobWF4Qm90dG9tICogaGFsZkhlaWdodCAqIHZTY2FsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gdG9wQmFySGVpZ2h0ICsgYm90dG9tQmFySGVpZ2h0IHx8IDE7XG4gICAgICAgICAgICAgICAgLy8gVmVydGljYWwgYWxpZ25tZW50XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBoYWxmSGVpZ2h0IC0gdG9wQmFySGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmJhckFsaWduID09PSAndG9wJykge1xuICAgICAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5iYXJBbGlnbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgeSA9IGhlaWdodCAtIGJhckhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4W3JlY3RGbl0ocHJldlggKiAoYmFyV2lkdGggKyBiYXJHYXApLCB5LCBiYXJXaWR0aCwgYmFySGVpZ2h0LCBiYXJSYWRpdXMpO1xuICAgICAgICAgICAgICAgIHByZXZYID0geDtcbiAgICAgICAgICAgICAgICBtYXhUb3AgPSAwO1xuICAgICAgICAgICAgICAgIG1heEJvdHRvbSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYWduaXR1ZGVUb3AgPSBNYXRoLmFicyh0b3BDaGFubmVsW2ldIHx8IDApO1xuICAgICAgICAgICAgY29uc3QgbWFnbml0dWRlQm90dG9tID0gTWF0aC5hYnMoYm90dG9tQ2hhbm5lbFtpXSB8fCAwKTtcbiAgICAgICAgICAgIGlmIChtYWduaXR1ZGVUb3AgPiBtYXhUb3ApXG4gICAgICAgICAgICAgICAgbWF4VG9wID0gbWFnbml0dWRlVG9wO1xuICAgICAgICAgICAgaWYgKG1hZ25pdHVkZUJvdHRvbSA+IG1heEJvdHRvbSlcbiAgICAgICAgICAgICAgICBtYXhCb3R0b20gPSBtYWduaXR1ZGVCb3R0b207XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cbiAgICByZW5kZXJMaW5lV2F2ZWZvcm0oY2hhbm5lbERhdGEsIF9vcHRpb25zLCBjdHgsIHZTY2FsZSkge1xuICAgICAgICBjb25zdCBkcmF3Q2hhbm5lbCA9IChpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IGNoYW5uZWxEYXRhW2luZGV4XSB8fCBjaGFubmVsRGF0YVswXTtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNoYW5uZWwubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgeyBoZWlnaHQgfSA9IGN0eC5jYW52YXM7XG4gICAgICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGhTY2FsZSA9IGN0eC5jYW52YXMud2lkdGggLyBsZW5ndGg7XG4gICAgICAgICAgICBjdHgubW92ZVRvKDAsIGhhbGZIZWlnaHQpO1xuICAgICAgICAgICAgbGV0IHByZXZYID0gMDtcbiAgICAgICAgICAgIGxldCBtYXggPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5yb3VuZChpICogaFNjYWxlKTtcbiAgICAgICAgICAgICAgICBpZiAoeCA+IHByZXZYKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGggPSBNYXRoLnJvdW5kKG1heCAqIGhhbGZIZWlnaHQgKiB2U2NhbGUpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBoYWxmSGVpZ2h0ICsgaCAqIChpbmRleCA9PT0gMCA/IC0xIDogMSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5saW5lVG8ocHJldlgsIHkpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2WCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIG1heCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gTWF0aC5hYnMoY2hhbm5lbFtpXSB8fCAwKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmxpbmVUbyhwcmV2WCwgaGFsZkhlaWdodCk7XG4gICAgICAgIH07XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgZHJhd0NoYW5uZWwoMCk7XG4gICAgICAgIGRyYXdDaGFubmVsKDEpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfVxuICAgIHJlbmRlcldhdmVmb3JtKGNoYW5uZWxEYXRhLCBvcHRpb25zLCBjdHgpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29udmVydENvbG9yVmFsdWVzKG9wdGlvbnMud2F2ZUNvbG9yKTtcbiAgICAgICAgLy8gQ3VzdG9tIHJlbmRlcmluZyBmdW5jdGlvblxuICAgICAgICBpZiAob3B0aW9ucy5yZW5kZXJGdW5jdGlvbikge1xuICAgICAgICAgICAgb3B0aW9ucy5yZW5kZXJGdW5jdGlvbihjaGFubmVsRGF0YSwgY3R4KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBWZXJ0aWNhbCBzY2FsaW5nXG4gICAgICAgIGxldCB2U2NhbGUgPSBvcHRpb25zLmJhckhlaWdodCB8fCAxO1xuICAgICAgICBpZiAob3B0aW9ucy5ub3JtYWxpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heCA9IEFycmF5LmZyb20oY2hhbm5lbERhdGFbMF0pLnJlZHVjZSgobWF4LCB2YWx1ZSkgPT4gTWF0aC5tYXgobWF4LCBNYXRoLmFicyh2YWx1ZSkpLCAwKTtcbiAgICAgICAgICAgIHZTY2FsZSA9IG1heCA/IDEgLyBtYXggOiAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmRlciB3YXZlZm9ybSBhcyBiYXJzXG4gICAgICAgIGlmIChvcHRpb25zLmJhcldpZHRoIHx8IG9wdGlvbnMuYmFyR2FwIHx8IG9wdGlvbnMuYmFyQWxpZ24pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQmFyV2F2ZWZvcm0oY2hhbm5lbERhdGEsIG9wdGlvbnMsIGN0eCwgdlNjYWxlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW5kZXIgd2F2ZWZvcm0gYXMgYSBwb2x5bGluZVxuICAgICAgICB0aGlzLnJlbmRlckxpbmVXYXZlZm9ybShjaGFubmVsRGF0YSwgb3B0aW9ucywgY3R4LCB2U2NhbGUpO1xuICAgIH1cbiAgICByZW5kZXJTaW5nbGVDYW52YXMoY2hhbm5lbERhdGEsIG9wdGlvbnMsIHdpZHRoLCBoZWlnaHQsIHN0YXJ0LCBlbmQsIGNhbnZhc0NvbnRhaW5lciwgcHJvZ3Jlc3NDb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjaGFubmVsRGF0YVswXS5sZW5ndGg7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQoKHdpZHRoICogKGVuZCAtIHN0YXJ0KSkgLyBsZW5ndGgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogcGl4ZWxSYXRpbztcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gYCR7TWF0aC5mbG9vcihjYW52YXMud2lkdGggLyBwaXhlbFJhdGlvKX1weGA7XG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICBjYW52YXMuc3R5bGUubGVmdCA9IGAke01hdGguZmxvb3IoKHN0YXJ0ICogd2lkdGgpIC8gcGl4ZWxSYXRpbyAvIGxlbmd0aCl9cHhgO1xuICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMucmVuZGVyV2F2ZWZvcm0oY2hhbm5lbERhdGEubWFwKChjaGFubmVsKSA9PiBjaGFubmVsLnNsaWNlKHN0YXJ0LCBlbmQpKSwgb3B0aW9ucywgY3R4KTtcbiAgICAgICAgLy8gRHJhdyBhIHByb2dyZXNzIGNhbnZhc1xuICAgICAgICBpZiAoY2FudmFzLndpZHRoID4gMCAmJiBjYW52YXMuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NDYW52YXMgPSBjYW52YXMuY2xvbmVOb2RlKCk7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc0N0eCA9IHByb2dyZXNzQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBwcm9ncmVzc0N0eC5kcmF3SW1hZ2UoY2FudmFzLCAwLCAwKTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgY29tcG9zaXRpb24gbWV0aG9kIHRvIGRyYXcgb25seSB3aGVyZSB0aGUgd2F2ZWZvcm0gaXMgZHJhd25cbiAgICAgICAgICAgIHByb2dyZXNzQ3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2UtaW4nO1xuICAgICAgICAgICAgcHJvZ3Jlc3NDdHguZmlsbFN0eWxlID0gdGhpcy5jb252ZXJ0Q29sb3JWYWx1ZXMob3B0aW9ucy5wcm9ncmVzc0NvbG9yKTtcbiAgICAgICAgICAgIC8vIFRoaXMgcmVjdGFuZ2xlIGFjdHMgYXMgYSBtYXNrIHRoYW5rcyB0byB0aGUgY29tcG9zaXRpb24gbWV0aG9kXG4gICAgICAgICAgICBwcm9ncmVzc0N0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgcHJvZ3Jlc3NDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NDYW52YXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlckNoYW5uZWwoY2hhbm5lbERhdGEsIG9wdGlvbnMsIHdpZHRoKSB7XG4gICAgICAgIC8vIEEgY29udGFpbmVyIGZvciBjYW52YXNlc1xuICAgICAgICBjb25zdCBjYW52YXNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHQoKTtcbiAgICAgICAgY2FudmFzQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5zdHlsZS5taW5IZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuYXBwZW5kQ2hpbGQoY2FudmFzQ29udGFpbmVyKTtcbiAgICAgICAgLy8gQSBjb250YWluZXIgZm9yIHByb2dyZXNzIGNhbnZhc2VzXG4gICAgICAgIGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gY2FudmFzQ29udGFpbmVyLmNsb25lTm9kZSgpO1xuICAgICAgICB0aGlzLnByb2dyZXNzV3JhcHBlci5hcHBlbmRDaGlsZChwcm9ncmVzc0NvbnRhaW5lcik7XG4gICAgICAgIC8vIERldGVybWluZSB0aGUgY3VycmVudGx5IHZpc2libGUgcGFydCBvZiB0aGUgd2F2ZWZvcm1cbiAgICAgICAgY29uc3QgeyBzY3JvbGxMZWZ0LCBzY3JvbGxXaWR0aCwgY2xpZW50V2lkdGggfSA9IHRoaXMuc2Nyb2xsQ29udGFpbmVyO1xuICAgICAgICBjb25zdCBsZW4gPSBjaGFubmVsRGF0YVswXS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gbGVuIC8gc2Nyb2xsV2lkdGg7XG4gICAgICAgIGxldCB2aWV3cG9ydFdpZHRoID0gTWF0aC5taW4oUmVuZGVyZXIuTUFYX0NBTlZBU19XSURUSCwgY2xpZW50V2lkdGgpO1xuICAgICAgICAvLyBBZGp1c3Qgd2lkdGggdG8gYXZvaWQgZ2FwcyBiZXR3ZWVuIGNhbnZhc2VzIHdoZW4gdXNpbmcgYmFyc1xuICAgICAgICBpZiAob3B0aW9ucy5iYXJXaWR0aCB8fCBvcHRpb25zLmJhckdhcCkge1xuICAgICAgICAgICAgY29uc3QgYmFyV2lkdGggPSBvcHRpb25zLmJhcldpZHRoIHx8IDAuNTtcbiAgICAgICAgICAgIGNvbnN0IGJhckdhcCA9IG9wdGlvbnMuYmFyR2FwIHx8IGJhcldpZHRoIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsQmFyV2lkdGggPSBiYXJXaWR0aCArIGJhckdhcDtcbiAgICAgICAgICAgIGlmICh2aWV3cG9ydFdpZHRoICUgdG90YWxCYXJXaWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0V2lkdGggPSBNYXRoLmZsb29yKHZpZXdwb3J0V2lkdGggLyB0b3RhbEJhcldpZHRoKSAqIHRvdGFsQmFyV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBNYXRoLmZsb29yKE1hdGguYWJzKHNjcm9sbExlZnQpICogc2NhbGUpO1xuICAgICAgICBjb25zdCBlbmQgPSBNYXRoLmZsb29yKHN0YXJ0ICsgdmlld3BvcnRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnRMZW4gPSBlbmQgLSBzdGFydDtcbiAgICAgICAgLy8gRHJhdyBhIHBvcnRpb24gb2YgdGhlIHdhdmVmb3JtIGZyb20gc3RhcnQgcGVhayB0byBlbmQgcGVha1xuICAgICAgICBjb25zdCBkcmF3ID0gKHN0YXJ0LCBlbmQpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyU2luZ2xlQ2FudmFzKGNoYW5uZWxEYXRhLCBvcHRpb25zLCB3aWR0aCwgaGVpZ2h0LCBNYXRoLm1heCgwLCBzdGFydCksIE1hdGgubWluKGVuZCwgbGVuKSwgY2FudmFzQ29udGFpbmVyLCBwcm9ncmVzc0NvbnRhaW5lcik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIERyYXcgdGhlIHdhdmVmb3JtIGluIHZpZXdwb3J0IGNodW5rcywgZWFjaCB3aXRoIGEgZGVsYXlcbiAgICAgICAgY29uc3QgaGVhZERlbGF5ID0gdGhpcy5jcmVhdGVEZWxheSgpO1xuICAgICAgICBjb25zdCB0YWlsRGVsYXkgPSB0aGlzLmNyZWF0ZURlbGF5KCk7XG4gICAgICAgIGNvbnN0IHJlbmRlckhlYWQgPSAoZnJvbUluZGV4LCB0b0luZGV4KSA9PiB7XG4gICAgICAgICAgICBkcmF3KGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgICAgICAgICBpZiAoZnJvbUluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIGhlYWREZWxheSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckhlYWQoZnJvbUluZGV4IC0gdmlld3BvcnRMZW4sIHRvSW5kZXggLSB2aWV3cG9ydExlbik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlbmRlclRhaWwgPSAoZnJvbUluZGV4LCB0b0luZGV4KSA9PiB7XG4gICAgICAgICAgICBkcmF3KGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgICAgICAgICBpZiAodG9JbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHRhaWxEZWxheSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclRhaWwoZnJvbUluZGV4ICsgdmlld3BvcnRMZW4sIHRvSW5kZXggKyB2aWV3cG9ydExlbik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJlbmRlckhlYWQoc3RhcnQsIGVuZCk7XG4gICAgICAgIGlmIChlbmQgPCBsZW4pIHtcbiAgICAgICAgICAgIHJlbmRlclRhaWwoZW5kLCBlbmQgKyB2aWV3cG9ydExlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKGF1ZGlvRGF0YSkge1xuICAgICAgICAvLyBDbGVhciBwcmV2aW91cyB0aW1lb3V0c1xuICAgICAgICB0aGlzLnRpbWVvdXRzLmZvckVhY2goKGNvbnRleHQpID0+IGNvbnRleHQudGltZW91dCAmJiBjbGVhclRpbWVvdXQoY29udGV4dC50aW1lb3V0KSk7XG4gICAgICAgIHRoaXMudGltZW91dHMgPSBbXTtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIGNhbnZhc2VzXG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5wcm9ncmVzc1dyYXBwZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICAvLyBXaWR0aFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndpZHRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyLnN0eWxlLndpZHRoID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5vcHRpb25zLndpZHRoID09PSAnbnVtYmVyJyA/IGAke3RoaXMub3B0aW9ucy53aWR0aH1weGAgOiB0aGlzLm9wdGlvbnMud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB3aWR0aCBvZiB0aGUgd2F2ZWZvcm1cbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIGNvbnN0IHBhcmVudFdpZHRoID0gdGhpcy5zY3JvbGxDb250YWluZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IHNjcm9sbFdpZHRoID0gTWF0aC5jZWlsKGF1ZGlvRGF0YS5kdXJhdGlvbiAqICh0aGlzLm9wdGlvbnMubWluUHhQZXJTZWMgfHwgMCkpO1xuICAgICAgICAvLyBXaGV0aGVyIHRoZSBjb250YWluZXIgc2hvdWxkIHNjcm9sbFxuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gc2Nyb2xsV2lkdGggPiBwYXJlbnRXaWR0aDtcbiAgICAgICAgY29uc3QgdXNlUGFyZW50V2lkdGggPSB0aGlzLm9wdGlvbnMuZmlsbFBhcmVudCAmJiAhdGhpcy5pc1Njcm9sbGluZztcbiAgICAgICAgLy8gV2lkdGggb2YgdGhlIHdhdmVmb3JtIGluIHBpeGVsc1xuICAgICAgICBjb25zdCB3aWR0aCA9ICh1c2VQYXJlbnRXaWR0aCA/IHBhcmVudFdpZHRoIDogc2Nyb2xsV2lkdGgpICogcGl4ZWxSYXRpbztcbiAgICAgICAgLy8gU2V0IHRoZSB3aWR0aCBvZiB0aGUgd3JhcHBlclxuICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUud2lkdGggPSB1c2VQYXJlbnRXaWR0aCA/ICcxMDAlJyA6IGAke3Njcm9sbFdpZHRofXB4YDtcbiAgICAgICAgLy8gU2V0IGFkZGl0aW9uYWwgc3R5bGVzXG4gICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93WCA9IHRoaXMuaXNTY3JvbGxpbmcgPyAnYXV0bycgOiAnaGlkZGVuJztcbiAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnbm9TY3JvbGxiYXInLCAhIXRoaXMub3B0aW9ucy5oaWRlU2Nyb2xsYmFyKTtcbiAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYCR7dGhpcy5vcHRpb25zLmN1cnNvckNvbG9yIHx8IHRoaXMub3B0aW9ucy5wcm9ncmVzc0NvbG9yfWA7XG4gICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLndpZHRoID0gYCR7dGhpcy5vcHRpb25zLmN1cnNvcldpZHRofXB4YDtcbiAgICAgICAgLy8gUmVuZGVyIHRoZSB3YXZlZm9ybVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNwbGl0Q2hhbm5lbHMpIHtcbiAgICAgICAgICAgIC8vIFJlbmRlciBhIHdhdmVmb3JtIGZvciBlYWNoIGNoYW5uZWxcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXVkaW9EYXRhLm51bWJlck9mQ2hhbm5lbHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIHRoaXMub3B0aW9ucy5zcGxpdENoYW5uZWxzW2ldKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNoYW5uZWwoW2F1ZGlvRGF0YS5nZXRDaGFubmVsRGF0YShpKV0sIG9wdGlvbnMsIHdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlbmRlciBhIHNpbmdsZSB3YXZlZm9ybSBmb3IgdGhlIGZpcnN0IHR3byBjaGFubmVscyAobGVmdCBhbmQgcmlnaHQpXG4gICAgICAgICAgICBjb25zdCBjaGFubmVscyA9IFthdWRpb0RhdGEuZ2V0Q2hhbm5lbERhdGEoMCldO1xuICAgICAgICAgICAgaWYgKGF1ZGlvRGF0YS5udW1iZXJPZkNoYW5uZWxzID4gMSlcbiAgICAgICAgICAgICAgICBjaGFubmVscy5wdXNoKGF1ZGlvRGF0YS5nZXRDaGFubmVsRGF0YSgxKSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckNoYW5uZWwoY2hhbm5lbHMsIHRoaXMub3B0aW9ucywgd2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXVkaW9EYXRhID0gYXVkaW9EYXRhO1xuICAgICAgICB0aGlzLmVtaXQoJ3JlbmRlcicpO1xuICAgIH1cbiAgICByZVJlbmRlcigpIHtcbiAgICAgICAgLy8gUmV0dXJuIGlmIHRoZSB3YXZlZm9ybSBoYXMgbm90IGJlZW4gcmVuZGVyZWQgeWV0XG4gICAgICAgIGlmICghdGhpcy5hdWRpb0RhdGEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIFJlbWVtYmVyIHRoZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvblxuICAgICAgICBjb25zdCBvbGRDdXJzb3JQb3NpdGlvbiA9IHRoaXMucHJvZ3Jlc3NXcmFwcGVyLmNsaWVudFdpZHRoO1xuICAgICAgICAvLyBTZXQgdGhlIG5ldyB6b29tIGxldmVsIGFuZCByZS1yZW5kZXIgdGhlIHdhdmVmb3JtXG4gICAgICAgIHRoaXMucmVuZGVyKHRoaXMuYXVkaW9EYXRhKTtcbiAgICAgICAgLy8gQWRqdXN0IHRoZSBzY3JvbGwgcG9zaXRpb24gc28gdGhhdCB0aGUgY3Vyc29yIHN0YXlzIGluIHRoZSBzYW1lIHBsYWNlXG4gICAgICAgIGNvbnN0IG5ld0N1cnNvcnRQb3NpdGlvbiA9IHRoaXMucHJvZ3Jlc3NXcmFwcGVyLmNsaWVudFdpZHRoO1xuICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0ICs9IG5ld0N1cnNvcnRQb3NpdGlvbiAtIG9sZEN1cnNvclBvc2l0aW9uO1xuICAgIH1cbiAgICB6b29tKG1pblB4UGVyU2VjKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5taW5QeFBlclNlYyA9IG1pblB4UGVyU2VjO1xuICAgICAgICB0aGlzLnJlUmVuZGVyKCk7XG4gICAgfVxuICAgIHNjcm9sbEludG9WaWV3KHByb2dyZXNzLCBpc1BsYXlpbmcgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB7IGNsaWVudFdpZHRoLCBzY3JvbGxMZWZ0LCBzY3JvbGxXaWR0aCB9ID0gdGhpcy5zY3JvbGxDb250YWluZXI7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzV2lkdGggPSBzY3JvbGxXaWR0aCAqIHByb2dyZXNzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBjbGllbnRXaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IG1pblNjcm9sbCA9IGlzUGxheWluZyAmJiB0aGlzLm9wdGlvbnMuYXV0b0NlbnRlciAmJiAhdGhpcy5pc0RyYWdnaW5nID8gY2VudGVyIDogY2xpZW50V2lkdGg7XG4gICAgICAgIGlmIChwcm9ncmVzc1dpZHRoID4gc2Nyb2xsTGVmdCArIG1pblNjcm9sbCB8fCBwcm9ncmVzc1dpZHRoIDwgc2Nyb2xsTGVmdCkge1xuICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIHRoZSBjZW50ZXJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0NlbnRlciAmJiAhdGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnNvciBpcyBpbiB2aWV3cG9ydCBidXQgbm90IGNlbnRlcmVkLCBzY3JvbGwgdG8gdGhlIGNlbnRlciBzbG93bHlcbiAgICAgICAgICAgICAgICBjb25zdCBtaW5EaWZmID0gY2VudGVyIC8gMjA7XG4gICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzV2lkdGggLSAoc2Nyb2xsTGVmdCArIGNlbnRlcikgPj0gbWluRGlmZiAmJiBwcm9ncmVzc1dpZHRoIDwgc2Nyb2xsTGVmdCArIGNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbExlZnQgKz0gbWluRGlmZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgc2Nyb2xsIHRvIHRoZSBjZW50ZXIgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsTGVmdCA9IHByb2dyZXNzV2lkdGggLSBjZW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gU2Nyb2xsIGp1c3QgYSBsaXR0bGUgYml0IHRvIGFsbG93IGZvciBzb21lIHNwYWNlIGJldHdlZW4gdGhlIGN1cnNvciBhbmQgdGhlIGVkZ2VcbiAgICAgICAgICAgICAgICBjb25zdCBnYXAgPSAxMDtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0ID1cbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NXaWR0aCA8IHNjcm9sbExlZnQgPyBwcm9ncmVzc1dpZHRoIC0gZ2FwIDogcHJvZ3Jlc3NXaWR0aCAtIGNsaWVudFdpZHRoICsgZ2FwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0ID0gcHJvZ3Jlc3NXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBFbWl0IHRoZSBzY3JvbGwgZXZlbnRcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeyBzY3JvbGxMZWZ0IH0gPSB0aGlzLnNjcm9sbENvbnRhaW5lcjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0WCA9IHNjcm9sbExlZnQgLyBzY3JvbGxXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGVuZFggPSAoc2Nyb2xsTGVmdCArIGNsaWVudFdpZHRoKSAvIHNjcm9sbFdpZHRoO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdzY3JvbGwnLCBzdGFydFgsIGVuZFgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlclByb2dyZXNzKHByb2dyZXNzLCBpc1BsYXlpbmcpIHtcbiAgICAgICAgaWYgKGlzTmFOKHByb2dyZXNzKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcGVyY2VudHMgPSBwcm9ncmVzcyAqIDEwMDtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLnN0eWxlLmNsaXBQYXRoID0gYHBvbHlnb24oJHtwZXJjZW50c30lIDAsIDEwMCUgMCwgMTAwJSAxMDAlLCAke3BlcmNlbnRzfSUgMTAwJSlgO1xuICAgICAgICB0aGlzLnByb2dyZXNzV3JhcHBlci5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRzfSVgO1xuICAgICAgICB0aGlzLmN1cnNvci5zdHlsZS5sZWZ0ID0gYCR7cGVyY2VudHN9JWA7XG4gICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLm1hcmdpbkxlZnQgPSBNYXRoLnJvdW5kKHBlcmNlbnRzKSA9PT0gMTAwID8gYC0ke3RoaXMub3B0aW9ucy5jdXJzb3JXaWR0aH1weGAgOiAnJztcbiAgICAgICAgaWYgKHRoaXMuaXNTY3JvbGxpbmcgJiYgdGhpcy5vcHRpb25zLmF1dG9TY3JvbGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcocHJvZ3Jlc3MsIGlzUGxheWluZyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5SZW5kZXJlci5NQVhfQ0FOVkFTX1dJRFRIID0gNDAwMDtcbmV4cG9ydCBkZWZhdWx0IFJlbmRlcmVyO1xuIl0sIm5hbWVzIjpbIm1ha2VEcmFnZ2FibGUiLCJFdmVudEVtaXR0ZXIiLCJSZW5kZXJlciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImF1ZGlvRWxlbWVudCIsInRpbWVvdXRzIiwiaXNTY3JvbGxpbmciLCJhdWRpb0RhdGEiLCJyZXNpemVPYnNlcnZlciIsImlzRHJhZ2dpbmciLCJwYXJlbnQiLCJwYXJlbnRGcm9tT3B0aW9uc0NvbnRhaW5lciIsImNvbnRhaW5lciIsImRpdiIsInNoYWRvdyIsImluaXRIdG1sIiwiYXBwZW5kQ2hpbGQiLCJzY3JvbGxDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwid3JhcHBlciIsImNhbnZhc1dyYXBwZXIiLCJwcm9ncmVzc1dyYXBwZXIiLCJjdXJzb3IiLCJpbml0RXZlbnRzIiwiZG9jdW1lbnQiLCJIVE1MRWxlbWVudCIsIkVycm9yIiwiZ2V0Q2xpY2tQb3NpdGlvbiIsImUiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsImNsaWVudFgiLCJsZWZ0IiwieSIsInJlbGF0aXZlWCIsIndpZHRoIiwicmVsYXRpdmVZIiwiaGVpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImVtaXQiLCJkcmFnVG9TZWVrIiwiaW5pdERyYWciLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsInN0YXJ0WCIsImVuZFgiLCJkZWxheSIsImNyZWF0ZURlbGF5IiwiUmVzaXplT2JzZXJ2ZXIiLCJyZVJlbmRlciIsIm9ic2VydmUiLCJfIiwiX18iLCJNYXRoIiwibWF4IiwibWluIiwiZ2V0SGVpZ2h0IiwiZGVmYXVsdEhlaWdodCIsImlzTmFOIiwiTnVtYmVyIiwiY2xpZW50SGVpZ2h0IiwiY3JlYXRlRWxlbWVudCIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJpbm5lckhUTUwiLCJzZXRPcHRpb25zIiwibmV3UGFyZW50IiwiZ2V0V3JhcHBlciIsImdldFNjcm9sbCIsImRlc3Ryb3kiLCJfYSIsInJlbW92ZSIsImRpc2Nvbm5lY3QiLCJkZWxheU1zIiwiY29udGV4dCIsInB1c2giLCJjYWxsYmFjayIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY29udmVydENvbG9yVmFsdWVzIiwiY29sb3IiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJjYW52YXNFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImdyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJjb2xvclN0b3BQZXJjZW50YWdlIiwiZm9yRWFjaCIsImluZGV4Iiwib2Zmc2V0IiwiYWRkQ29sb3JTdG9wIiwicmVuZGVyQmFyV2F2ZWZvcm0iLCJjaGFubmVsRGF0YSIsInZTY2FsZSIsInRvcENoYW5uZWwiLCJib3R0b21DaGFubmVsIiwiY2FudmFzIiwiaGFsZkhlaWdodCIsInBpeGVsUmF0aW8iLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwiYmFyV2lkdGgiLCJiYXJHYXAiLCJiYXJSYWRpdXMiLCJiYXJJbmRleFNjYWxlIiwicmVjdEZuIiwiYmVnaW5QYXRoIiwicHJldlgiLCJtYXhUb3AiLCJtYXhCb3R0b20iLCJpIiwicm91bmQiLCJ0b3BCYXJIZWlnaHQiLCJib3R0b21CYXJIZWlnaHQiLCJiYXJIZWlnaHQiLCJiYXJBbGlnbiIsIm1hZ25pdHVkZVRvcCIsImFicyIsIm1hZ25pdHVkZUJvdHRvbSIsImZpbGwiLCJjbG9zZVBhdGgiLCJyZW5kZXJMaW5lV2F2ZWZvcm0iLCJfb3B0aW9ucyIsImRyYXdDaGFubmVsIiwiY2hhbm5lbCIsImhTY2FsZSIsIm1vdmVUbyIsImgiLCJsaW5lVG8iLCJ2YWx1ZSIsInJlbmRlcldhdmVmb3JtIiwiZmlsbFN0eWxlIiwid2F2ZUNvbG9yIiwicmVuZGVyRnVuY3Rpb24iLCJub3JtYWxpemUiLCJmcm9tIiwicmVkdWNlIiwicmVuZGVyU2luZ2xlQ2FudmFzIiwic3RhcnQiLCJlbmQiLCJjYW52YXNDb250YWluZXIiLCJwcm9ncmVzc0NvbnRhaW5lciIsInN0eWxlIiwiZmxvb3IiLCJtYXAiLCJzbGljZSIsInByb2dyZXNzQ2FudmFzIiwiY2xvbmVOb2RlIiwicHJvZ3Jlc3NDdHgiLCJkcmF3SW1hZ2UiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJwcm9ncmVzc0NvbG9yIiwiZmlsbFJlY3QiLCJyZW5kZXJDaGFubmVsIiwibWluSGVpZ2h0IiwibGVuIiwic2NhbGUiLCJ2aWV3cG9ydFdpZHRoIiwiTUFYX0NBTlZBU19XSURUSCIsInRvdGFsQmFyV2lkdGgiLCJ2aWV3cG9ydExlbiIsImRyYXciLCJoZWFkRGVsYXkiLCJ0YWlsRGVsYXkiLCJyZW5kZXJIZWFkIiwiZnJvbUluZGV4IiwidG9JbmRleCIsInJlbmRlclRhaWwiLCJyZW5kZXIiLCJwYXJlbnRXaWR0aCIsImNlaWwiLCJkdXJhdGlvbiIsIm1pblB4UGVyU2VjIiwidXNlUGFyZW50V2lkdGgiLCJmaWxsUGFyZW50Iiwib3ZlcmZsb3dYIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaGlkZVNjcm9sbGJhciIsImJhY2tncm91bmRDb2xvciIsImN1cnNvckNvbG9yIiwiY3Vyc29yV2lkdGgiLCJzcGxpdENoYW5uZWxzIiwibnVtYmVyT2ZDaGFubmVscyIsIk9iamVjdCIsImFzc2lnbiIsImdldENoYW5uZWxEYXRhIiwiY2hhbm5lbHMiLCJvbGRDdXJzb3JQb3NpdGlvbiIsIm5ld0N1cnNvcnRQb3NpdGlvbiIsInpvb20iLCJzY3JvbGxJbnRvVmlldyIsInByb2dyZXNzIiwiaXNQbGF5aW5nIiwicHJvZ3Jlc3NXaWR0aCIsImNlbnRlciIsIm1pblNjcm9sbCIsImF1dG9DZW50ZXIiLCJtaW5EaWZmIiwiZ2FwIiwicmVuZGVyUHJvZ3Jlc3MiLCJwZXJjZW50cyIsImNsaXBQYXRoIiwibWFyZ2luTGVmdCIsImF1dG9TY3JvbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/renderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/timer.js":
/*!**************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/timer.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _event_emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-emitter.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/event-emitter.js\");\n\nclass Timer extends _event_emitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(){\n        super(...arguments);\n        this.unsubscribe = ()=>undefined;\n    }\n    start() {\n        this.unsubscribe = this.on(\"tick\", ()=>{\n            requestAnimationFrame(()=>{\n                this.emit(\"tick\");\n            });\n        });\n        this.emit(\"tick\");\n    }\n    stop() {\n        this.unsubscribe();\n    }\n    destroy() {\n        this.unsubscribe();\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Timer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L3RpbWVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThDO0FBQzlDLE1BQU1DLGNBQWNELHlEQUFZQTtJQUM1QkUsYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFNQztJQUM3QjtJQUNBQyxRQUFRO1FBQ0osSUFBSSxDQUFDRixXQUFXLEdBQUcsSUFBSSxDQUFDRyxFQUFFLENBQUMsUUFBUTtZQUMvQkMsc0JBQXNCO2dCQUNsQixJQUFJLENBQUNDLElBQUksQ0FBQztZQUNkO1FBQ0o7UUFDQSxJQUFJLENBQUNBLElBQUksQ0FBQztJQUNkO0lBQ0FDLE9BQU87UUFDSCxJQUFJLENBQUNOLFdBQVc7SUFDcEI7SUFDQU8sVUFBVTtRQUNOLElBQUksQ0FBQ1AsV0FBVztJQUNwQjtBQUNKO0FBQ0EsaUVBQWVILEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbG9uZS13aGF0c2FwcC8uL25vZGVfbW9kdWxlcy93YXZlc3VyZmVyLmpzL2Rpc3QvdGltZXIuanM/ZGM3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJy4vZXZlbnQtZW1pdHRlci5qcyc7XG5jbGFzcyBUaW1lciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSAoKSA9PiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5vbigndGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0aWNrJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW1pdCgndGljaycpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBUaW1lcjtcbiJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJUaW1lciIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwidW5zdWJzY3JpYmUiLCJ1bmRlZmluZWQiLCJzdGFydCIsIm9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZW1pdCIsInN0b3AiLCJkZXN0cm95Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/timer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/wavesurfer.js":
/*!*******************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/wavesurfer.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _decoder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./decoder.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/decoder.js\");\n/* harmony import */ var _fetcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fetcher.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/fetcher.js\");\n/* harmony import */ var _player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./player.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/player.js\");\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./renderer.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/renderer.js\");\n/* harmony import */ var _timer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./timer.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/timer.js\");\n/* harmony import */ var _webaudio_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./webaudio.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/webaudio.js\");\nvar __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nconst defaultOptions = {\n    waveColor: \"#999\",\n    progressColor: \"#555\",\n    cursorWidth: 1,\n    minPxPerSec: 0,\n    fillParent: true,\n    interact: true,\n    dragToSeek: false,\n    autoScroll: true,\n    autoCenter: true,\n    sampleRate: 8000\n};\nclass WaveSurfer extends _player_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n    /** Create a new WaveSurfer instance */ static create(options) {\n        return new WaveSurfer(options);\n    }\n    /** Create a new WaveSurfer instance */ constructor(options){\n        const media = options.media || (options.backend === \"WebAudio\" ? new _webaudio_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]() : undefined);\n        super({\n            media,\n            mediaControls: options.mediaControls,\n            autoplay: options.autoplay,\n            playbackRate: options.audioRate\n        });\n        this.plugins = [];\n        this.decodedData = null;\n        this.subscriptions = [];\n        this.mediaSubscriptions = [];\n        this.options = Object.assign({}, defaultOptions, options);\n        this.timer = new _timer_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n        const audioElement = media ? undefined : this.getMediaElement();\n        this.renderer = new _renderer_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.options, audioElement);\n        this.initPlayerEvents();\n        this.initRendererEvents();\n        this.initTimerEvents();\n        this.initPlugins();\n        // Load audio if URL or an external media with an src is passed,\n        // of render w/o audio if pre-decoded peaks and duration are provided\n        const url = this.options.url || this.getSrc() || \"\";\n        if (url || this.options.peaks && this.options.duration) {\n            this.load(url, this.options.peaks, this.options.duration);\n        }\n    }\n    initTimerEvents() {\n        // The timer fires every 16ms for a smooth progress animation\n        this.subscriptions.push(this.timer.on(\"tick\", ()=>{\n            const currentTime = this.getCurrentTime();\n            this.renderer.renderProgress(currentTime / this.getDuration(), true);\n            this.emit(\"timeupdate\", currentTime);\n            this.emit(\"audioprocess\", currentTime);\n        }));\n    }\n    initPlayerEvents() {\n        if (this.isPlaying()) {\n            this.emit(\"play\");\n            this.timer.start();\n        }\n        this.mediaSubscriptions.push(this.onMediaEvent(\"timeupdate\", ()=>{\n            const currentTime = this.getCurrentTime();\n            this.renderer.renderProgress(currentTime / this.getDuration(), this.isPlaying());\n            this.emit(\"timeupdate\", currentTime);\n        }), this.onMediaEvent(\"play\", ()=>{\n            this.emit(\"play\");\n            this.timer.start();\n        }), this.onMediaEvent(\"pause\", ()=>{\n            this.emit(\"pause\");\n            this.timer.stop();\n        }), this.onMediaEvent(\"emptied\", ()=>{\n            this.timer.stop();\n        }), this.onMediaEvent(\"ended\", ()=>{\n            this.emit(\"finish\");\n        }), this.onMediaEvent(\"seeking\", ()=>{\n            this.emit(\"seeking\", this.getCurrentTime());\n        }));\n    }\n    initRendererEvents() {\n        this.subscriptions.push(// Seek on click\n        this.renderer.on(\"click\", (relativeX, relativeY)=>{\n            if (this.options.interact) {\n                this.seekTo(relativeX);\n                this.emit(\"interaction\", relativeX * this.getDuration());\n                this.emit(\"click\", relativeX, relativeY);\n            }\n        }), // Double click\n        this.renderer.on(\"dblclick\", (relativeX, relativeY)=>{\n            this.emit(\"dblclick\", relativeX, relativeY);\n        }), // Scroll\n        this.renderer.on(\"scroll\", (startX, endX)=>{\n            const duration = this.getDuration();\n            this.emit(\"scroll\", startX * duration, endX * duration);\n        }), // Redraw\n        this.renderer.on(\"render\", ()=>{\n            this.emit(\"redraw\");\n        }));\n        // Drag\n        {\n            let debounce;\n            this.subscriptions.push(this.renderer.on(\"drag\", (relativeX)=>{\n                if (!this.options.interact) return;\n                // Update the visual position\n                this.renderer.renderProgress(relativeX);\n                // Set the audio position with a debounce\n                clearTimeout(debounce);\n                debounce = setTimeout(()=>{\n                    this.seekTo(relativeX);\n                }, this.isPlaying() ? 0 : 200);\n                this.emit(\"interaction\", relativeX * this.getDuration());\n                this.emit(\"drag\", relativeX);\n            }));\n        }\n    }\n    initPlugins() {\n        var _a;\n        if (!((_a = this.options.plugins) === null || _a === void 0 ? void 0 : _a.length)) return;\n        this.options.plugins.forEach((plugin)=>{\n            this.registerPlugin(plugin);\n        });\n    }\n    unsubscribePlayerEvents() {\n        this.mediaSubscriptions.forEach((unsubscribe)=>unsubscribe());\n        this.mediaSubscriptions = [];\n    }\n    /** Set new wavesurfer options and re-render it */ setOptions(options) {\n        this.options = Object.assign({}, this.options, options);\n        this.renderer.setOptions(this.options);\n        if (options.audioRate) {\n            this.setPlaybackRate(options.audioRate);\n        }\n        if (options.mediaControls != null) {\n            this.getMediaElement().controls = options.mediaControls;\n        }\n    }\n    /** Register a wavesurfer.js plugin */ registerPlugin(plugin) {\n        plugin.init(this);\n        this.plugins.push(plugin);\n        // Unregister plugin on destroy\n        this.subscriptions.push(plugin.once(\"destroy\", ()=>{\n            this.plugins = this.plugins.filter((p)=>p !== plugin);\n        }));\n        return plugin;\n    }\n    /** For plugins only: get the waveform wrapper div */ getWrapper() {\n        return this.renderer.getWrapper();\n    }\n    /** Get the current scroll position in pixels */ getScroll() {\n        return this.renderer.getScroll();\n    }\n    /** Get all registered plugins */ getActivePlugins() {\n        return this.plugins;\n    }\n    loadAudio(url, blob, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function*() {\n            this.emit(\"load\", url);\n            if (!this.options.media && this.isPlaying()) this.pause();\n            this.decodedData = null;\n            // Fetch the entire audio as a blob if pre-decoded data is not provided\n            if (!blob && !channelData) {\n                const onProgress = (percentage)=>this.emit(\"loading\", percentage);\n                blob = yield _fetcher_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fetchBlob(url, onProgress, this.options.fetchParams);\n            }\n            // Set the mediaelement source\n            this.setSrc(url, blob);\n            // Wait for the audio duration\n            // It should be a promise to allow event listeners to subscribe to the ready and decode events\n            const audioDuration = (yield Promise.resolve(duration || this.getDuration())) || (yield new Promise((resolve)=>{\n                this.onceMediaEvent(\"loadedmetadata\", ()=>resolve(this.getDuration()));\n            }));\n            // Decode the audio data or use user-provided peaks\n            if (channelData) {\n                this.decodedData = _decoder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createBuffer(channelData, audioDuration || 0);\n            } else if (blob) {\n                const arrayBuffer = yield blob.arrayBuffer();\n                this.decodedData = yield _decoder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decode(arrayBuffer, this.options.sampleRate);\n            }\n            if (this.decodedData) {\n                this.emit(\"decode\", this.getDuration());\n                this.renderer.render(this.decodedData);\n            }\n            this.emit(\"ready\", this.getDuration());\n        });\n    }\n    /** Load an audio file by URL, with optional pre-decoded audio data */ load(url, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function*() {\n            yield this.loadAudio(url, undefined, channelData, duration);\n        });\n    }\n    /** Load an audio blob */ loadBlob(blob, channelData, duration) {\n        return __awaiter(this, void 0, void 0, function*() {\n            yield this.loadAudio(\"blob\", blob, channelData, duration);\n        });\n    }\n    /** Zoom the waveform by a given pixels-per-second factor */ zoom(minPxPerSec) {\n        if (!this.decodedData) {\n            throw new Error(\"No audio loaded\");\n        }\n        this.renderer.zoom(minPxPerSec);\n        this.emit(\"zoom\", minPxPerSec);\n    }\n    /** Get the decoded audio data */ getDecodedData() {\n        return this.decodedData;\n    }\n    /** Get decoded peaks */ exportPeaks({ channels = 2, maxLength = 8000, precision = 10000 } = {}) {\n        if (!this.decodedData) {\n            throw new Error(\"The audio has not been decoded yet\");\n        }\n        const maxChannels = Math.min(channels, this.decodedData.numberOfChannels);\n        const peaks = [];\n        for(let i = 0; i < maxChannels; i++){\n            const channel = this.decodedData.getChannelData(i);\n            const data = [];\n            const sampleSize = Math.round(channel.length / maxLength);\n            for(let i = 0; i < maxLength; i++){\n                const sample = channel.slice(i * sampleSize, (i + 1) * sampleSize);\n                let max = 0;\n                for(let x = 0; x < sample.length; x++){\n                    const n = sample[x];\n                    if (Math.abs(n) > Math.abs(max)) max = n;\n                }\n                data.push(Math.round(max * precision) / precision);\n            }\n            peaks.push(data);\n        }\n        return peaks;\n    }\n    /** Get the duration of the audio in seconds */ getDuration() {\n        let duration = super.getDuration() || 0;\n        // Fall back to the decoded data duration if the media duration is incorrect\n        if ((duration === 0 || duration === Infinity) && this.decodedData) {\n            duration = this.decodedData.duration;\n        }\n        return duration;\n    }\n    /** Toggle if the waveform should react to clicks */ toggleInteraction(isInteractive) {\n        this.options.interact = isInteractive;\n    }\n    /** Seek to a percentage of audio as [0..1] (0 = beginning, 1 = end) */ seekTo(progress) {\n        const time = this.getDuration() * progress;\n        this.setTime(time);\n    }\n    /** Play or pause the audio */ playPause() {\n        return __awaiter(this, void 0, void 0, function*() {\n            return this.isPlaying() ? this.pause() : this.play();\n        });\n    }\n    /** Stop the audio and go to the beginning */ stop() {\n        this.pause();\n        this.setTime(0);\n    }\n    /** Skip N or -N seconds from the current position */ skip(seconds) {\n        this.setTime(this.getCurrentTime() + seconds);\n    }\n    /** Empty the waveform */ empty() {\n        this.load(\"\", [\n            [\n                0\n            ]\n        ], 0.001);\n    }\n    /** Set HTML media element */ setMediaElement(element) {\n        this.unsubscribePlayerEvents();\n        super.setMediaElement(element);\n        this.initPlayerEvents();\n    }\n    /** Unmount wavesurfer */ destroy() {\n        this.emit(\"destroy\");\n        this.plugins.forEach((plugin)=>plugin.destroy());\n        this.subscriptions.forEach((unsubscribe)=>unsubscribe());\n        this.unsubscribePlayerEvents();\n        this.timer.destroy();\n        this.renderer.destroy();\n        super.destroy();\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WaveSurfer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L3dhdmVzdXJmZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUlBLFlBQVksU0FBSyxJQUFJLFNBQUksQ0FBQ0EsU0FBUyxJQUFLLFNBQVVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxDQUFDLEVBQUVDLFNBQVM7SUFDbkYsU0FBU0MsTUFBTUMsS0FBSztRQUFJLE9BQU9BLGlCQUFpQkgsSUFBSUcsUUFBUSxJQUFJSCxFQUFFLFNBQVVJLE9BQU87WUFBSUEsUUFBUUQ7UUFBUTtJQUFJO0lBQzNHLE9BQU8sSUFBS0gsQ0FBQUEsS0FBTUEsQ0FBQUEsSUFBSUssT0FBTSxDQUFDLEVBQUcsU0FBVUQsT0FBTyxFQUFFRSxNQUFNO1FBQ3JELFNBQVNDLFVBQVVKLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxVQUFVUSxJQUFJLENBQUNOO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDMUYsU0FBU0MsU0FBU1IsS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFNBQVMsQ0FBQyxRQUFRLENBQUNFO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDN0YsU0FBU0YsS0FBS0ksTUFBTTtZQUFJQSxPQUFPQyxJQUFJLEdBQUdULFFBQVFRLE9BQU9ULEtBQUssSUFBSUQsTUFBTVUsT0FBT1QsS0FBSyxFQUFFVyxJQUFJLENBQUNQLFdBQVdJO1FBQVc7UUFDN0dILEtBQUssQ0FBQ1AsWUFBWUEsVUFBVWMsS0FBSyxDQUFDakIsU0FBU0MsY0FBYyxFQUFFLEdBQUdVLElBQUk7SUFDdEU7QUFDSjtBQUNtQztBQUNBO0FBQ0Y7QUFDSTtBQUNOO0FBQ1k7QUFDM0MsTUFBTWEsaUJBQWlCO0lBQ25CQyxXQUFXO0lBQ1hDLGVBQWU7SUFDZkMsYUFBYTtJQUNiQyxhQUFhO0lBQ2JDLFlBQVk7SUFDWkMsVUFBVTtJQUNWQyxZ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UUFDbEIsSUFBSSxDQUFDbEcsUUFBUSxDQUFDa0csT0FBTztRQUNyQixLQUFLLENBQUNBO0lBQ1Y7QUFDSjtBQUNBLGlFQUFldEgsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Nsb25lLXdoYXRzYXBwLy4vbm9kZV9tb2R1bGVzL3dhdmVzdXJmZXIuanMvZGlzdC93YXZlc3VyZmVyLmpzPzI0MjgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgRGVjb2RlciBmcm9tICcuL2RlY29kZXIuanMnO1xuaW1wb3J0IEZldGNoZXIgZnJvbSAnLi9mZXRjaGVyLmpzJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9wbGF5ZXIuanMnO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXIuanMnO1xuaW1wb3J0IFRpbWVyIGZyb20gJy4vdGltZXIuanMnO1xuaW1wb3J0IFdlYkF1ZGlvUGxheWVyIGZyb20gJy4vd2ViYXVkaW8uanMnO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgd2F2ZUNvbG9yOiAnIzk5OScsXG4gICAgcHJvZ3Jlc3NDb2xvcjogJyM1NTUnLFxuICAgIGN1cnNvcldpZHRoOiAxLFxuICAgIG1pblB4UGVyU2VjOiAwLFxuICAgIGZpbGxQYXJlbnQ6IHRydWUsXG4gICAgaW50ZXJhY3Q6IHRydWUsXG4gICAgZHJhZ1RvU2VlazogZmFsc2UsXG4gICAgYXV0b1Njcm9sbDogdHJ1ZSxcbiAgICBhdXRvQ2VudGVyOiB0cnVlLFxuICAgIHNhbXBsZVJhdGU6IDgwMDAsXG59O1xuY2xhc3MgV2F2ZVN1cmZlciBleHRlbmRzIFBsYXllciB7XG4gICAgLyoqIENyZWF0ZSBhIG5ldyBXYXZlU3VyZmVyIGluc3RhbmNlICovXG4gICAgc3RhdGljIGNyZWF0ZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2F2ZVN1cmZlcihvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZSBhIG5ldyBXYXZlU3VyZmVyIGluc3RhbmNlICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBjb25zdCBtZWRpYSA9IG9wdGlvbnMubWVkaWEgfHxcbiAgICAgICAgICAgIChvcHRpb25zLmJhY2tlbmQgPT09ICdXZWJBdWRpbycgPyBuZXcgV2ViQXVkaW9QbGF5ZXIoKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG1lZGlhLFxuICAgICAgICAgICAgbWVkaWFDb250cm9sczogb3B0aW9ucy5tZWRpYUNvbnRyb2xzLFxuICAgICAgICAgICAgYXV0b3BsYXk6IG9wdGlvbnMuYXV0b3BsYXksXG4gICAgICAgICAgICBwbGF5YmFja1JhdGU6IG9wdGlvbnMuYXVkaW9SYXRlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gW107XG4gICAgICAgIHRoaXMuZGVjb2RlZERhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5tZWRpYVN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRpbWVyID0gbmV3IFRpbWVyKCk7XG4gICAgICAgIGNvbnN0IGF1ZGlvRWxlbWVudCA9IG1lZGlhID8gdW5kZWZpbmVkIDogdGhpcy5nZXRNZWRpYUVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcih0aGlzLm9wdGlvbnMsIGF1ZGlvRWxlbWVudCk7XG4gICAgICAgIHRoaXMuaW5pdFBsYXllckV2ZW50cygpO1xuICAgICAgICB0aGlzLmluaXRSZW5kZXJlckV2ZW50cygpO1xuICAgICAgICB0aGlzLmluaXRUaW1lckV2ZW50cygpO1xuICAgICAgICB0aGlzLmluaXRQbHVnaW5zKCk7XG4gICAgICAgIC8vIExvYWQgYXVkaW8gaWYgVVJMIG9yIGFuIGV4dGVybmFsIG1lZGlhIHdpdGggYW4gc3JjIGlzIHBhc3NlZCxcbiAgICAgICAgLy8gb2YgcmVuZGVyIHcvbyBhdWRpbyBpZiBwcmUtZGVjb2RlZCBwZWFrcyBhbmQgZHVyYXRpb24gYXJlIHByb3ZpZGVkXG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMub3B0aW9ucy51cmwgfHwgdGhpcy5nZXRTcmMoKSB8fCAnJztcbiAgICAgICAgaWYgKHVybCB8fCAodGhpcy5vcHRpb25zLnBlYWtzICYmIHRoaXMub3B0aW9ucy5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCh1cmwsIHRoaXMub3B0aW9ucy5wZWFrcywgdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0VGltZXJFdmVudHMoKSB7XG4gICAgICAgIC8vIFRoZSB0aW1lciBmaXJlcyBldmVyeSAxNm1zIGZvciBhIHNtb290aCBwcm9ncmVzcyBhbmltYXRpb25cbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2godGhpcy50aW1lci5vbigndGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJQcm9ncmVzcyhjdXJyZW50VGltZSAvIHRoaXMuZ2V0RHVyYXRpb24oKSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3RpbWV1cGRhdGUnLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvcHJvY2VzcycsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpbml0UGxheWVyRXZlbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5pc1BsYXlpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwbGF5Jyk7XG4gICAgICAgICAgICB0aGlzLnRpbWVyLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWRpYVN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLm9uTWVkaWFFdmVudCgndGltZXVwZGF0ZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJQcm9ncmVzcyhjdXJyZW50VGltZSAvIHRoaXMuZ2V0RHVyYXRpb24oKSwgdGhpcy5pc1BsYXlpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3RpbWV1cGRhdGUnLCBjdXJyZW50VGltZSk7XG4gICAgICAgIH0pLCB0aGlzLm9uTWVkaWFFdmVudCgncGxheScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncGxheScpO1xuICAgICAgICAgICAgdGhpcy50aW1lci5zdGFydCgpO1xuICAgICAgICB9KSwgdGhpcy5vbk1lZGlhRXZlbnQoJ3BhdXNlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwYXVzZScpO1xuICAgICAgICAgICAgdGhpcy50aW1lci5zdG9wKCk7XG4gICAgICAgIH0pLCB0aGlzLm9uTWVkaWFFdmVudCgnZW1wdGllZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGltZXIuc3RvcCgpO1xuICAgICAgICB9KSwgdGhpcy5vbk1lZGlhRXZlbnQoJ2VuZGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdmaW5pc2gnKTtcbiAgICAgICAgfSksIHRoaXMub25NZWRpYUV2ZW50KCdzZWVraW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdzZWVraW5nJywgdGhpcy5nZXRDdXJyZW50VGltZSgpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpbml0UmVuZGVyZXJFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICAvLyBTZWVrIG9uIGNsaWNrXG4gICAgICAgIHRoaXMucmVuZGVyZXIub24oJ2NsaWNrJywgKHJlbGF0aXZlWCwgcmVsYXRpdmVZKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludGVyYWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWVrVG8ocmVsYXRpdmVYKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2ludGVyYWN0aW9uJywgcmVsYXRpdmVYICogdGhpcy5nZXREdXJhdGlvbigpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2NsaWNrJywgcmVsYXRpdmVYLCByZWxhdGl2ZVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgXG4gICAgICAgIC8vIERvdWJsZSBjbGlja1xuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdkYmxjbGljaycsIChyZWxhdGl2ZVgsIHJlbGF0aXZlWSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdkYmxjbGljaycsIHJlbGF0aXZlWCwgcmVsYXRpdmVZKTtcbiAgICAgICAgfSksIFxuICAgICAgICAvLyBTY3JvbGxcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbignc2Nyb2xsJywgKHN0YXJ0WCwgZW5kWCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmdldER1cmF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3Njcm9sbCcsIHN0YXJ0WCAqIGR1cmF0aW9uLCBlbmRYICogZHVyYXRpb24pO1xuICAgICAgICB9KSwgXG4gICAgICAgIC8vIFJlZHJhd1xuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdyZW5kZXInLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlZHJhdycpO1xuICAgICAgICB9KSk7XG4gICAgICAgIC8vIERyYWdcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGRlYm91bmNlO1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2godGhpcy5yZW5kZXJlci5vbignZHJhZycsIChyZWxhdGl2ZVgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pbnRlcmFjdClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdmlzdWFsIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJQcm9ncmVzcyhyZWxhdGl2ZVgpO1xuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgYXVkaW8gcG9zaXRpb24gd2l0aCBhIGRlYm91bmNlXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlKTtcbiAgICAgICAgICAgICAgICBkZWJvdW5jZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZWtUbyhyZWxhdGl2ZVgpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMuaXNQbGF5aW5nKCkgPyAwIDogMjAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2ludGVyYWN0aW9uJywgcmVsYXRpdmVYICogdGhpcy5nZXREdXJhdGlvbigpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2RyYWcnLCByZWxhdGl2ZVgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRQbHVnaW5zKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghKChfYSA9IHRoaXMub3B0aW9ucy5wbHVnaW5zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vcHRpb25zLnBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyUGx1Z2luKHBsdWdpbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bnN1YnNjcmliZVBsYXllckV2ZW50cygpIHtcbiAgICAgICAgdGhpcy5tZWRpYVN1YnNjcmlwdGlvbnMuZm9yRWFjaCgodW5zdWJzY3JpYmUpID0+IHVuc3Vic2NyaWJlKCkpO1xuICAgICAgICB0aGlzLm1lZGlhU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIH1cbiAgICAvKiogU2V0IG5ldyB3YXZlc3VyZmVyIG9wdGlvbnMgYW5kIHJlLXJlbmRlciBpdCAqL1xuICAgIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldE9wdGlvbnModGhpcy5vcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXVkaW9SYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFBsYXliYWNrUmF0ZShvcHRpb25zLmF1ZGlvUmF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWVkaWFDb250cm9scyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmdldE1lZGlhRWxlbWVudCgpLmNvbnRyb2xzID0gb3B0aW9ucy5tZWRpYUNvbnRyb2xzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBSZWdpc3RlciBhIHdhdmVzdXJmZXIuanMgcGx1Z2luICovXG4gICAgcmVnaXN0ZXJQbHVnaW4ocGx1Z2luKSB7XG4gICAgICAgIHBsdWdpbi5pbml0KHRoaXMpO1xuICAgICAgICB0aGlzLnBsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgICAvLyBVbnJlZ2lzdGVyIHBsdWdpbiBvbiBkZXN0cm95XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHBsdWdpbi5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zID0gdGhpcy5wbHVnaW5zLmZpbHRlcigocCkgPT4gcCAhPT0gcGx1Z2luKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gcGx1Z2luO1xuICAgIH1cbiAgICAvKiogRm9yIHBsdWdpbnMgb25seTogZ2V0IHRoZSB3YXZlZm9ybSB3cmFwcGVyIGRpdiAqL1xuICAgIGdldFdyYXBwZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFdyYXBwZXIoKTtcbiAgICB9XG4gICAgLyoqIEdldCB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb24gaW4gcGl4ZWxzICovXG4gICAgZ2V0U2Nyb2xsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRTY3JvbGwoKTtcbiAgICB9XG4gICAgLyoqIEdldCBhbGwgcmVnaXN0ZXJlZCBwbHVnaW5zICovXG4gICAgZ2V0QWN0aXZlUGx1Z2lucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2lucztcbiAgICB9XG4gICAgbG9hZEF1ZGlvKHVybCwgYmxvYiwgY2hhbm5lbERhdGEsIGR1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWQnLCB1cmwpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubWVkaWEgJiYgdGhpcy5pc1BsYXlpbmcoKSlcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLmRlY29kZWREYXRhID0gbnVsbDtcbiAgICAgICAgICAgIC8vIEZldGNoIHRoZSBlbnRpcmUgYXVkaW8gYXMgYSBibG9iIGlmIHByZS1kZWNvZGVkIGRhdGEgaXMgbm90IHByb3ZpZGVkXG4gICAgICAgICAgICBpZiAoIWJsb2IgJiYgIWNoYW5uZWxEYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb25Qcm9ncmVzcyA9IChwZXJjZW50YWdlKSA9PiB0aGlzLmVtaXQoJ2xvYWRpbmcnLCBwZXJjZW50YWdlKTtcbiAgICAgICAgICAgICAgICBibG9iID0geWllbGQgRmV0Y2hlci5mZXRjaEJsb2IodXJsLCBvblByb2dyZXNzLCB0aGlzLm9wdGlvbnMuZmV0Y2hQYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHRoZSBtZWRpYWVsZW1lbnQgc291cmNlXG4gICAgICAgICAgICB0aGlzLnNldFNyYyh1cmwsIGJsb2IpO1xuICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGF1ZGlvIGR1cmF0aW9uXG4gICAgICAgICAgICAvLyBJdCBzaG91bGQgYmUgYSBwcm9taXNlIHRvIGFsbG93IGV2ZW50IGxpc3RlbmVycyB0byBzdWJzY3JpYmUgdG8gdGhlIHJlYWR5IGFuZCBkZWNvZGUgZXZlbnRzXG4gICAgICAgICAgICBjb25zdCBhdWRpb0R1cmF0aW9uID0gKHlpZWxkIFByb21pc2UucmVzb2x2ZShkdXJhdGlvbiB8fCB0aGlzLmdldER1cmF0aW9uKCkpKSB8fFxuICAgICAgICAgICAgICAgICh5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uY2VNZWRpYUV2ZW50KCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHJlc29sdmUodGhpcy5nZXREdXJhdGlvbigpKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgLy8gRGVjb2RlIHRoZSBhdWRpbyBkYXRhIG9yIHVzZSB1c2VyLXByb3ZpZGVkIHBlYWtzXG4gICAgICAgICAgICBpZiAoY2hhbm5lbERhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29kZWREYXRhID0gRGVjb2Rlci5jcmVhdGVCdWZmZXIoY2hhbm5lbERhdGEsIGF1ZGlvRHVyYXRpb24gfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChibG9iKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWNvZGVkRGF0YSA9IHlpZWxkIERlY29kZXIuZGVjb2RlKGFycmF5QnVmZmVyLCB0aGlzLm9wdGlvbnMuc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kZWNvZGVkRGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZGVjb2RlJywgdGhpcy5nZXREdXJhdGlvbigpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLmRlY29kZWREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVhZHknLCB0aGlzLmdldER1cmF0aW9uKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIExvYWQgYW4gYXVkaW8gZmlsZSBieSBVUkwsIHdpdGggb3B0aW9uYWwgcHJlLWRlY29kZWQgYXVkaW8gZGF0YSAqL1xuICAgIGxvYWQodXJsLCBjaGFubmVsRGF0YSwgZHVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMubG9hZEF1ZGlvKHVybCwgdW5kZWZpbmVkLCBjaGFubmVsRGF0YSwgZHVyYXRpb24pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIExvYWQgYW4gYXVkaW8gYmxvYiAqL1xuICAgIGxvYWRCbG9iKGJsb2IsIGNoYW5uZWxEYXRhLCBkdXJhdGlvbikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy5sb2FkQXVkaW8oJ2Jsb2InLCBibG9iLCBjaGFubmVsRGF0YSwgZHVyYXRpb24pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIFpvb20gdGhlIHdhdmVmb3JtIGJ5IGEgZ2l2ZW4gcGl4ZWxzLXBlci1zZWNvbmQgZmFjdG9yICovXG4gICAgem9vbShtaW5QeFBlclNlYykge1xuICAgICAgICBpZiAoIXRoaXMuZGVjb2RlZERhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYXVkaW8gbG9hZGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci56b29tKG1pblB4UGVyU2VjKTtcbiAgICAgICAgdGhpcy5lbWl0KCd6b29tJywgbWluUHhQZXJTZWMpO1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSBkZWNvZGVkIGF1ZGlvIGRhdGEgKi9cbiAgICBnZXREZWNvZGVkRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlZERhdGE7XG4gICAgfVxuICAgIC8qKiBHZXQgZGVjb2RlZCBwZWFrcyAqL1xuICAgIGV4cG9ydFBlYWtzKHsgY2hhbm5lbHMgPSAyLCBtYXhMZW5ndGggPSA4MDAwLCBwcmVjaXNpb24gPSAxMDAwMCB9ID0ge30pIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlY29kZWREYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBhdWRpbyBoYXMgbm90IGJlZW4gZGVjb2RlZCB5ZXQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXhDaGFubmVscyA9IE1hdGgubWluKGNoYW5uZWxzLCB0aGlzLmRlY29kZWREYXRhLm51bWJlck9mQ2hhbm5lbHMpO1xuICAgICAgICBjb25zdCBwZWFrcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heENoYW5uZWxzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLmRlY29kZWREYXRhLmdldENoYW5uZWxEYXRhKGkpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlU2l6ZSA9IE1hdGgucm91bmQoY2hhbm5lbC5sZW5ndGggLyBtYXhMZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsZSA9IGNoYW5uZWwuc2xpY2UoaSAqIHNhbXBsZVNpemUsIChpICsgMSkgKiBzYW1wbGVTaXplKTtcbiAgICAgICAgICAgICAgICBsZXQgbWF4ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHNhbXBsZS5sZW5ndGg7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gc2FtcGxlW3hdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobikgPiBNYXRoLmFicyhtYXgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKE1hdGgucm91bmQobWF4ICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZWFrcy5wdXNoKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZWFrcztcbiAgICB9XG4gICAgLyoqIEdldCB0aGUgZHVyYXRpb24gb2YgdGhlIGF1ZGlvIGluIHNlY29uZHMgKi9cbiAgICBnZXREdXJhdGlvbigpIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uID0gc3VwZXIuZ2V0RHVyYXRpb24oKSB8fCAwO1xuICAgICAgICAvLyBGYWxsIGJhY2sgdG8gdGhlIGRlY29kZWQgZGF0YSBkdXJhdGlvbiBpZiB0aGUgbWVkaWEgZHVyYXRpb24gaXMgaW5jb3JyZWN0XG4gICAgICAgIGlmICgoZHVyYXRpb24gPT09IDAgfHwgZHVyYXRpb24gPT09IEluZmluaXR5KSAmJiB0aGlzLmRlY29kZWREYXRhKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMuZGVjb2RlZERhdGEuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIH1cbiAgICAvKiogVG9nZ2xlIGlmIHRoZSB3YXZlZm9ybSBzaG91bGQgcmVhY3QgdG8gY2xpY2tzICovXG4gICAgdG9nZ2xlSW50ZXJhY3Rpb24oaXNJbnRlcmFjdGl2ZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuaW50ZXJhY3QgPSBpc0ludGVyYWN0aXZlO1xuICAgIH1cbiAgICAvKiogU2VlayB0byBhIHBlcmNlbnRhZ2Ugb2YgYXVkaW8gYXMgWzAuLjFdICgwID0gYmVnaW5uaW5nLCAxID0gZW5kKSAqL1xuICAgIHNlZWtUbyhwcm9ncmVzcykge1xuICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5nZXREdXJhdGlvbigpICogcHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMuc2V0VGltZSh0aW1lKTtcbiAgICB9XG4gICAgLyoqIFBsYXkgb3IgcGF1c2UgdGhlIGF1ZGlvICovXG4gICAgcGxheVBhdXNlKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNQbGF5aW5nKCkgPyB0aGlzLnBhdXNlKCkgOiB0aGlzLnBsYXkoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBTdG9wIHRoZSBhdWRpbyBhbmQgZ28gdG8gdGhlIGJlZ2lubmluZyAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgdGhpcy5zZXRUaW1lKDApO1xuICAgIH1cbiAgICAvKiogU2tpcCBOIG9yIC1OIHNlY29uZHMgZnJvbSB0aGUgY3VycmVudCBwb3NpdGlvbiAqL1xuICAgIHNraXAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLnNldFRpbWUodGhpcy5nZXRDdXJyZW50VGltZSgpICsgc2Vjb25kcyk7XG4gICAgfVxuICAgIC8qKiBFbXB0eSB0aGUgd2F2ZWZvcm0gKi9cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgdGhpcy5sb2FkKCcnLCBbWzBdXSwgMC4wMDEpO1xuICAgIH1cbiAgICAvKiogU2V0IEhUTUwgbWVkaWEgZWxlbWVudCAqL1xuICAgIHNldE1lZGlhRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVQbGF5ZXJFdmVudHMoKTtcbiAgICAgICAgc3VwZXIuc2V0TWVkaWFFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB0aGlzLmluaXRQbGF5ZXJFdmVudHMoKTtcbiAgICB9XG4gICAgLyoqIFVubW91bnQgd2F2ZXN1cmZlciAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGVzdHJveScpO1xuICAgICAgICB0aGlzLnBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiBwbHVnaW4uZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZVBsYXllckV2ZW50cygpO1xuICAgICAgICB0aGlzLnRpbWVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KCk7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBXYXZlU3VyZmVyO1xuIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImFkb3B0IiwidmFsdWUiLCJyZXNvbHZlIiwiUHJvbWlzZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIkRlY29kZXIiLCJGZXRjaGVyIiwiUGxheWVyIiwiUmVuZGVyZXIiLCJUaW1lciIsIldlYkF1ZGlvUGxheWVyIiwiZGVmYXVsdE9wdGlvbnMiLCJ3YXZlQ29sb3IiLCJwcm9ncmVzc0NvbG9yIiwiY3Vyc29yV2lkdGgiLCJtaW5QeFBlclNlYyIsImZpbGxQYXJlbnQiLCJpbnRlcmFjdCIsImRyYWdUb1NlZWsiLCJhdXRvU2Nyb2xsIiwiYXV0b0NlbnRlciIsInNhbXBsZVJhdGUiLCJXYXZlU3VyZmVyIiwiY3JlYXRlIiwib3B0aW9ucyIsImNvbnN0cnVjdG9yIiwibWVkaWEiLCJiYWNrZW5kIiwidW5kZWZpbmVkIiwibWVkaWFDb250cm9scyIsImF1dG9wbGF5IiwicGxheWJhY2tSYXRlIiwiYXVkaW9SYXRlIiwicGx1Z2lucyIsImRlY29kZWREYXRhIiwic3Vic2NyaXB0aW9ucyIsIm1lZGlhU3Vic2NyaXB0aW9ucyIsIk9iamVjdCIsImFzc2lnbiIsInRpbWVyIiwiYXVkaW9FbGVtZW50IiwiZ2V0TWVkaWFFbGVtZW50IiwicmVuZGVyZXIiLCJpbml0UGxheWVyRXZlbnRzIiwiaW5pdFJlbmRlcmVyRXZlbnRzIiwiaW5pdFRpbWVyRXZlbnRzIiwiaW5pdFBsdWdpbnMiLCJ1cmwiLCJnZXRTcmMiLCJwZWFrcyIsImR1cmF0aW9uIiwibG9hZCIsInB1c2giLCJvbiIsImN1cnJlbnRUaW1lIiwiZ2V0Q3VycmVudFRpbWUiLCJyZW5kZXJQcm9ncmVzcyIsImdldER1cmF0aW9uIiwiZW1pdCIsImlzUGxheWluZyIsInN0YXJ0Iiwib25NZWRpYUV2ZW50Iiwic3RvcCIsInJlbGF0aXZlWCIsInJlbGF0aXZlWSIsInNlZWtUbyIsInN0YXJ0WCIsImVuZFgiLCJkZWJvdW5jZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJfYSIsImxlbmd0aCIsImZvckVhY2giLCJwbHVnaW4iLCJyZWdpc3RlclBsdWdpbiIsInVuc3Vic2NyaWJlUGxheWVyRXZlbnRzIiwidW5zdWJzY3JpYmUiLCJzZXRPcHRpb25zIiwic2V0UGxheWJhY2tSYXRlIiwiY29udHJvbHMiLCJpbml0Iiwib25jZSIsImZpbHRlciIsInAiLCJnZXRXcmFwcGVyIiwiZ2V0U2Nyb2xsIiwiZ2V0QWN0aXZlUGx1Z2lucyIsImxvYWRBdWRpbyIsImJsb2IiLCJjaGFubmVsRGF0YSIsInBhdXNlIiwib25Qcm9ncmVzcyIsInBlcmNlbnRhZ2UiLCJmZXRjaEJsb2IiLCJmZXRjaFBhcmFtcyIsInNldFNyYyIsImF1ZGlvRHVyYXRpb24iLCJvbmNlTWVkaWFFdmVudCIsImNyZWF0ZUJ1ZmZlciIsImFycmF5QnVmZmVyIiwiZGVjb2RlIiwicmVuZGVyIiwibG9hZEJsb2IiLCJ6b29tIiwiRXJyb3IiLCJnZXREZWNvZGVkRGF0YSIsImV4cG9ydFBlYWtzIiwiY2hhbm5lbHMiLCJtYXhMZW5ndGgiLCJwcmVjaXNpb24iLCJtYXhDaGFubmVscyIsIk1hdGgiLCJtaW4iLCJudW1iZXJPZkNoYW5uZWxzIiwiaSIsImNoYW5uZWwiLCJnZXRDaGFubmVsRGF0YSIsImRhdGEiLCJzYW1wbGVTaXplIiwicm91bmQiLCJzYW1wbGUiLCJzbGljZSIsIm1heCIsIngiLCJuIiwiYWJzIiwiSW5maW5pdHkiLCJ0b2dnbGVJbnRlcmFjdGlvbiIsImlzSW50ZXJhY3RpdmUiLCJwcm9ncmVzcyIsInRpbWUiLCJzZXRUaW1lIiwicGxheVBhdXNlIiwicGxheSIsInNraXAiLCJzZWNvbmRzIiwiZW1wdHkiLCJzZXRNZWRpYUVsZW1lbnQiLCJlbGVtZW50IiwiZGVzdHJveSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/wavesurfer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/wavesurfer.js/dist/webaudio.js":
/*!*****************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/webaudio.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _event_emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-emitter.js */ \"(ssr)/./node_modules/wavesurfer.js/dist/event-emitter.js\");\nvar __awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n/**\n * A Web Audio buffer player emulating the behavior of an HTML5 Audio element.\n */ class WebAudioPlayer extends _event_emitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(audioContext = new AudioContext()){\n        super();\n        this.bufferNode = null;\n        this.autoplay = false;\n        this.playStartTime = 0;\n        this.playedDuration = 0;\n        this._muted = false;\n        this.buffer = null;\n        this.currentSrc = \"\";\n        this.paused = true;\n        this.crossOrigin = null;\n        this.audioContext = audioContext;\n        this.gainNode = this.audioContext.createGain();\n        this.gainNode.connect(this.audioContext.destination);\n    }\n    load() {\n        return __awaiter(this, void 0, void 0, function*() {\n            return;\n        });\n    }\n    get src() {\n        return this.currentSrc;\n    }\n    set src(value) {\n        this.currentSrc = value;\n        fetch(value).then((response)=>response.arrayBuffer()).then((arrayBuffer)=>this.audioContext.decodeAudioData(arrayBuffer)).then((audioBuffer)=>{\n            this.buffer = audioBuffer;\n            this.emit(\"loadedmetadata\");\n            this.emit(\"canplay\");\n            if (this.autoplay) this.play();\n        });\n    }\n    _play() {\n        var _a;\n        if (!this.paused) return;\n        this.paused = false;\n        (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this.bufferNode = this.audioContext.createBufferSource();\n        this.bufferNode.buffer = this.buffer;\n        this.bufferNode.connect(this.gainNode);\n        if (this.playedDuration >= this.duration) {\n            this.playedDuration = 0;\n        }\n        this.bufferNode.start(this.audioContext.currentTime, this.playedDuration);\n        this.playStartTime = this.audioContext.currentTime;\n        this.bufferNode.onended = ()=>{\n            if (this.currentTime >= this.duration) {\n                this.pause();\n                this.emit(\"ended\");\n            }\n        };\n    }\n    _pause() {\n        var _a;\n        if (this.paused) return;\n        this.paused = true;\n        (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.stop();\n        this.playedDuration += this.audioContext.currentTime - this.playStartTime;\n    }\n    play() {\n        return __awaiter(this, void 0, void 0, function*() {\n            this._play();\n            this.emit(\"play\");\n        });\n    }\n    pause() {\n        this._pause();\n        this.emit(\"pause\");\n    }\n    stopAt(timeSeconds) {\n        var _a, _b;\n        const delay = timeSeconds - this.currentTime;\n        (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.stop(this.audioContext.currentTime + delay);\n        (_b = this.bufferNode) === null || _b === void 0 ? void 0 : _b.addEventListener(\"ended\", ()=>{\n            this.bufferNode = null;\n            this.pause();\n        }, {\n            once: true\n        });\n    }\n    setSinkId(deviceId) {\n        return __awaiter(this, void 0, void 0, function*() {\n            const ac = this.audioContext;\n            return ac.setSinkId(deviceId);\n        });\n    }\n    get playbackRate() {\n        var _a, _b;\n        return (_b = (_a = this.bufferNode) === null || _a === void 0 ? void 0 : _a.playbackRate.value) !== null && _b !== void 0 ? _b : 1;\n    }\n    set playbackRate(value) {\n        if (this.bufferNode) {\n            this.bufferNode.playbackRate.value = value;\n        }\n    }\n    get currentTime() {\n        return this.paused ? this.playedDuration : this.playedDuration + this.audioContext.currentTime - this.playStartTime;\n    }\n    set currentTime(value) {\n        this.emit(\"seeking\");\n        if (this.paused) {\n            this.playedDuration = value;\n        } else {\n            this._pause();\n            this.playedDuration = value;\n            this._play();\n        }\n        this.emit(\"timeupdate\");\n    }\n    get duration() {\n        var _a;\n        return ((_a = this.buffer) === null || _a === void 0 ? void 0 : _a.duration) || 0;\n    }\n    get volume() {\n        return this.gainNode.gain.value;\n    }\n    set volume(value) {\n        this.gainNode.gain.value = value;\n        this.emit(\"volumechange\");\n    }\n    get muted() {\n        return this._muted;\n    }\n    set muted(value) {\n        if (this._muted === value) return;\n        this._muted = value;\n        if (this._muted) {\n            this.gainNode.disconnect();\n        } else {\n            this.gainNode.connect(this.audioContext.destination);\n        }\n    }\n    /** Get the GainNode used to play the audio. Can be used to attach filters. */ getGainNode() {\n        return this.gainNode;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WebAudioPlayer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L3dlYmF1ZGlvLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSUEsWUFBWSxTQUFLLElBQUksU0FBSSxDQUFDQSxTQUFTLElBQUssU0FBVUMsT0FBTyxFQUFFQyxVQUFVLEVBQUVDLENBQUMsRUFBRUMsU0FBUztJQUNuRixTQUFTQyxNQUFNQyxLQUFLO1FBQUksT0FBT0EsaUJBQWlCSCxJQUFJRyxRQUFRLElBQUlILEVBQUUsU0FBVUksT0FBTztZQUFJQSxRQUFRRDtRQUFRO0lBQUk7SUFDM0csT0FBTyxJQUFLSCxDQUFBQSxLQUFNQSxDQUFBQSxJQUFJSyxPQUFNLENBQUMsRUFBRyxTQUFVRCxPQUFPLEVBQUVFLE1BQU07UUFDckQsU0FBU0MsVUFBVUosS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFVBQVVRLElBQUksQ0FBQ047WUFBUyxFQUFFLE9BQU9PLEdBQUc7Z0JBQUVKLE9BQU9JO1lBQUk7UUFBRTtRQUMxRixTQUFTQyxTQUFTUixLQUFLO1lBQUksSUFBSTtnQkFBRUssS0FBS1AsU0FBUyxDQUFDLFFBQVEsQ0FBQ0U7WUFBUyxFQUFFLE9BQU9PLEdBQUc7Z0JBQUVKLE9BQU9JO1lBQUk7UUFBRTtRQUM3RixTQUFTRixLQUFLSSxNQUFNO1lBQUlBLE9BQU9DLElBQUksR0FBR1QsUUFBUVEsT0FBT1QsS0FBSyxJQUFJRCxNQUFNVSxPQUFPVCxLQUFLLEVBQUVXLElBQUksQ0FBQ1AsV0FBV0k7UUFBVztRQUM3R0gsS0FBSyxDQUFDUCxZQUFZQSxVQUFVYyxLQUFLLENBQUNqQixTQUFTQyxjQUFjLEVBQUUsR0FBR1UsSUFBSTtJQUN0RTtBQUNKO0FBQzhDO0FBQzlDOztDQUVDLEdBQ0QsTUFBTVEsdUJBQXVCRCx5REFBWUE7SUFDckNFLFlBQVlDLGVBQWUsSUFBSUMsY0FBYyxDQUFFO1FBQzNDLEtBQUs7UUFDTCxJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNDLFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUNDLGFBQWEsR0FBRztRQUNyQixJQUFJLENBQUNDLGNBQWMsR0FBRztRQUN0QixJQUFJLENBQUNDLE1BQU0sR0FBRztRQUNkLElBQUksQ0FBQ0MsTUFBTSxHQUFHO1FBQ2QsSUFBSSxDQUFDQyxVQUFVLEdBQUc7UUFDbEIsSUFBSSxDQUFDQyxNQUFNLEdBQUc7UUFDZCxJQUFJLENBQUNDLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNWLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDVyxRQUFRLEdBQUcsSUFBSSxDQUFDWCxZQUFZLENBQUNZLFVBQVU7UUFDNUMsSUFBSSxDQUFDRCxRQUFRLENBQUNFLE9BQU8sQ0FBQyxJQUFJLENBQUNiLFlBQVksQ0FBQ2MsV0FBVztJQUN2RDtJQUNBQyxPQUFPO1FBQ0gsT0FBT3JDLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkM7UUFDSjtJQUNKO0lBQ0EsSUFBSXNDLE1BQU07UUFDTixPQUFPLElBQUksQ0FBQ1IsVUFBVTtJQUMxQjtJQUNBLElBQUlRLElBQUloQyxLQUFLLEVBQUU7UUFDWCxJQUFJLENBQUN3QixVQUFVLEdBQUd4QjtRQUNsQmlDLE1BQU1qQyxPQUNEVyxJQUFJLENBQUMsQ0FBQ3VCLFdBQWFBLFNBQVNDLFdBQVcsSUFDdkN4QixJQUFJLENBQUMsQ0FBQ3dCLGNBQWdCLElBQUksQ0FBQ25CLFlBQVksQ0FBQ29CLGVBQWUsQ0FBQ0QsY0FDeER4QixJQUFJLENBQUMsQ0FBQzBCO1lBQ1AsSUFBSSxDQUFDZCxNQUFNLEdBQUdjO1lBQ2QsSUFBSSxDQUFDQyxJQUFJLENBQUM7WUFDVixJQUFJLENBQUNBLElBQUksQ0FBQztZQUNWLElBQUksSUFBSSxDQUFDbkIsUUFBUSxFQUNiLElBQUksQ0FBQ29CLElBQUk7UUFDakI7SUFDSjtJQUNBQyxRQUFRO1FBQ0osSUFBSUM7UUFDSixJQUFJLENBQUMsSUFBSSxDQUFDaEIsTUFBTSxFQUNaO1FBQ0osSUFBSSxDQUFDQSxNQUFNLEdBQUc7UUFDYmdCLENBQUFBLEtBQUssSUFBSSxDQUFDdkIsVUFBVSxNQUFNLFFBQVF1QixPQUFPLEtBQUssSUFBSSxLQUFLLElBQUlBLEdBQUdDLFVBQVU7UUFDekUsSUFBSSxDQUFDeEIsVUFBVSxHQUFHLElBQUksQ0FBQ0YsWUFBWSxDQUFDMkIsa0JBQWtCO1FBQ3RELElBQUksQ0FBQ3pCLFVBQVUsQ0FBQ0ssTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTTtRQUNwQyxJQUFJLENBQUNMLFVBQVUsQ0FBQ1csT0FBTyxDQUFDLElBQUksQ0FBQ0YsUUFBUTtRQUNyQyxJQUFJLElBQUksQ0FBQ04sY0FBYyxJQUFJLElBQUksQ0FBQ3VCLFFBQVEsRUFBRTtZQUN0QyxJQUFJLENBQUN2QixjQUFjLEdBQUc7UUFDMUI7UUFDQSxJQUFJLENBQUNILFVBQVUsQ0FBQzJCLEtBQUssQ0FBQyxJQUFJLENBQUM3QixZQUFZLENBQUM4QixXQUFXLEVBQUUsSUFBSSxDQUFDekIsY0FBYztRQUN4RSxJQUFJLENBQUNELGFBQWEsR0FBRyxJQUFJLENBQUNKLFlBQVksQ0FBQzhCLFdBQVc7UUFDbEQsSUFBSSxDQUFDNUIsVUFBVSxDQUFDNkIsT0FBTyxHQUFHO1lBQ3RCLElBQUksSUFBSSxDQUFDRCxXQUFXLElBQUksSUFBSSxDQUFDRixRQUFRLEVBQUU7Z0JBQ25DLElBQUksQ0FBQ0ksS0FBSztnQkFDVixJQUFJLENBQUNWLElBQUksQ0FBQztZQUNkO1FBQ0o7SUFDSjtJQUNBVyxTQUFTO1FBQ0wsSUFBSVI7UUFDSixJQUFJLElBQUksQ0FBQ2hCLE1BQU0sRUFDWDtRQUNKLElBQUksQ0FBQ0EsTUFBTSxHQUFHO1FBQ2JnQixDQUFBQSxLQUFLLElBQUksQ0FBQ3ZCLFVBQVUsTUFBTSxRQUFRdUIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHUyxJQUFJO1FBQ25FLElBQUksQ0FBQzdCLGNBQWMsSUFBSSxJQUFJLENBQUNMLFlBQVksQ0FBQzhCLFdBQVcsR0FBRyxJQUFJLENBQUMxQixhQUFhO0lBQzdFO0lBQ0FtQixPQUFPO1FBQ0gsT0FBTzdDLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkMsSUFBSSxDQUFDOEMsS0FBSztZQUNWLElBQUksQ0FBQ0YsSUFBSSxDQUFDO1FBQ2Q7SUFDSjtJQUNBVSxRQUFRO1FBQ0osSUFBSSxDQUFDQyxNQUFNO1FBQ1gsSUFBSSxDQUFDWCxJQUFJLENBQUM7SUFDZDtJQUNBYSxPQUFPQyxXQUFXLEVBQUU7UUFDaEIsSUFBSVgsSUFBSVk7UUFDUixNQUFNQyxRQUFRRixjQUFjLElBQUksQ0FBQ04sV0FBVztRQUMzQ0wsQ0FBQUEsS0FBSyxJQUFJLENBQUN2QixVQUFVLE1BQU0sUUFBUXVCLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR1MsSUFBSSxDQUFDLElBQUksQ0FBQ2xDLFlBQVksQ0FBQzhCLFdBQVcsR0FBR1E7UUFDbkdELENBQUFBLEtBQUssSUFBSSxDQUFDbkMsVUFBVSxNQUFNLFFBQVFtQyxPQUFPLEtBQUssSUFBSSxLQUFLLElBQUlBLEdBQUdFLGdCQUFnQixDQUFDLFNBQVM7WUFDckYsSUFBSSxDQUFDckMsVUFBVSxHQUFHO1lBQ2xCLElBQUksQ0FBQzhCLEtBQUs7UUFDZCxHQUFHO1lBQUVRLE1BQU07UUFBSztJQUNwQjtJQUNBQyxVQUFVQyxRQUFRLEVBQUU7UUFDaEIsT0FBT2hFLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkMsTUFBTWlFLEtBQUssSUFBSSxDQUFDM0MsWUFBWTtZQUM1QixPQUFPMkMsR0FBR0YsU0FBUyxDQUFDQztRQUN4QjtJQUNKO0lBQ0EsSUFBSUUsZUFBZTtRQUNmLElBQUluQixJQUFJWTtRQUNSLE9BQU8sQ0FBQ0EsS0FBSyxDQUFDWixLQUFLLElBQUksQ0FBQ3ZCLFVBQVUsTUFBTSxRQUFRdUIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHbUIsWUFBWSxDQUFDNUQsS0FBSyxNQUFNLFFBQVFxRCxPQUFPLEtBQUssSUFBSUEsS0FBSztJQUNySTtJQUNBLElBQUlPLGFBQWE1RCxLQUFLLEVBQUU7UUFDcEIsSUFBSSxJQUFJLENBQUNrQixVQUFVLEVBQUU7WUFDakIsSUFBSSxDQUFDQSxVQUFVLENBQUMwQyxZQUFZLENBQUM1RCxLQUFLLEdBQUdBO1FBQ3pDO0lBQ0o7SUFDQSxJQUFJOEMsY0FBYztRQUNkLE9BQU8sSUFBSSxDQUFDckIsTUFBTSxHQUFHLElBQUksQ0FBQ0osY0FBYyxHQUFHLElBQUksQ0FBQ0EsY0FBYyxHQUFHLElBQUksQ0FBQ0wsWUFBWSxDQUFDOEIsV0FBVyxHQUFHLElBQUksQ0FBQzFCLGFBQWE7SUFDdkg7SUFDQSxJQUFJMEIsWUFBWTlDLEtBQUssRUFBRTtRQUNuQixJQUFJLENBQUNzQyxJQUFJLENBQUM7UUFDVixJQUFJLElBQUksQ0FBQ2IsTUFBTSxFQUFFO1lBQ2IsSUFBSSxDQUFDSixjQUFjLEdBQUdyQjtRQUMxQixPQUNLO1lBQ0QsSUFBSSxDQUFDaUQsTUFBTTtZQUNYLElBQUksQ0FBQzVCLGNBQWMsR0FBR3JCO1lBQ3RCLElBQUksQ0FBQ3dDLEtBQUs7UUFDZDtRQUNBLElBQUksQ0FBQ0YsSUFBSSxDQUFDO0lBQ2Q7SUFDQSxJQUFJTSxXQUFXO1FBQ1gsSUFBSUg7UUFDSixPQUFPLENBQUMsQ0FBQ0EsS0FBSyxJQUFJLENBQUNsQixNQUFNLE1BQU0sUUFBUWtCLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR0csUUFBUSxLQUFLO0lBQ3BGO0lBQ0EsSUFBSWlCLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQ2xDLFFBQVEsQ0FBQ21DLElBQUksQ0FBQzlELEtBQUs7SUFDbkM7SUFDQSxJQUFJNkQsT0FBTzdELEtBQUssRUFBRTtRQUNkLElBQUksQ0FBQzJCLFFBQVEsQ0FBQ21DLElBQUksQ0FBQzlELEtBQUssR0FBR0E7UUFDM0IsSUFBSSxDQUFDc0MsSUFBSSxDQUFDO0lBQ2Q7SUFDQSxJQUFJeUIsUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDekMsTUFBTTtJQUN0QjtJQUNBLElBQUl5QyxNQUFNL0QsS0FBSyxFQUFFO1FBQ2IsSUFBSSxJQUFJLENBQUNzQixNQUFNLEtBQUt0QixPQUNoQjtRQUNKLElBQUksQ0FBQ3NCLE1BQU0sR0FBR3RCO1FBQ2QsSUFBSSxJQUFJLENBQUNzQixNQUFNLEVBQUU7WUFDYixJQUFJLENBQUNLLFFBQVEsQ0FBQ2UsVUFBVTtRQUM1QixPQUNLO1lBQ0QsSUFBSSxDQUFDZixRQUFRLENBQUNFLE9BQU8sQ0FBQyxJQUFJLENBQUNiLFlBQVksQ0FBQ2MsV0FBVztRQUN2RDtJQUNKO0lBQ0EsNEVBQTRFLEdBQzVFa0MsY0FBYztRQUNWLE9BQU8sSUFBSSxDQUFDckMsUUFBUTtJQUN4QjtBQUNKO0FBQ0EsaUVBQWViLGNBQWNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbG9uZS13aGF0c2FwcC8uL25vZGVfbW9kdWxlcy93YXZlc3VyZmVyLmpzL2Rpc3Qvd2ViYXVkaW8uanM/MjMyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi9ldmVudC1lbWl0dGVyLmpzJztcbi8qKlxuICogQSBXZWIgQXVkaW8gYnVmZmVyIHBsYXllciBlbXVsYXRpbmcgdGhlIGJlaGF2aW9yIG9mIGFuIEhUTUw1IEF1ZGlvIGVsZW1lbnQuXG4gKi9cbmNsYXNzIFdlYkF1ZGlvUGxheWVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCkpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5idWZmZXJOb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBsYXlTdGFydFRpbWUgPSAwO1xuICAgICAgICB0aGlzLnBsYXllZER1cmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5fbXV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRTcmMgPSAnJztcbiAgICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQgPSBhdWRpb0NvbnRleHQ7XG4gICAgICAgIHRoaXMuZ2Fpbk5vZGUgPSB0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgIHRoaXMuZ2Fpbk5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgfVxuICAgIGxvYWQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgc3JjKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3JjO1xuICAgIH1cbiAgICBzZXQgc3JjKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNyYyA9IHZhbHVlO1xuICAgICAgICBmZXRjaCh2YWx1ZSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgICAgIC50aGVuKChhcnJheUJ1ZmZlcikgPT4gdGhpcy5hdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKSlcbiAgICAgICAgICAgIC50aGVuKChhdWRpb0J1ZmZlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBhdWRpb0J1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkbWV0YWRhdGEnKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2FucGxheScpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXkpXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcGxheSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMucGF1c2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAoX2EgPSB0aGlzLmJ1ZmZlck5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuYnVmZmVyTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICB0aGlzLmJ1ZmZlck5vZGUuYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMuYnVmZmVyTm9kZS5jb25uZWN0KHRoaXMuZ2Fpbk5vZGUpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZWREdXJhdGlvbiA+PSB0aGlzLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllZER1cmF0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlck5vZGUuc3RhcnQodGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUsIHRoaXMucGxheWVkRHVyYXRpb24pO1xuICAgICAgICB0aGlzLnBsYXlTdGFydFRpbWUgPSB0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZTtcbiAgICAgICAgdGhpcy5idWZmZXJOb2RlLm9uZW5kZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VGltZSA+PSB0aGlzLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZW5kZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhdXNlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnBhdXNlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgICAgICAoX2EgPSB0aGlzLmJ1ZmZlck5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdG9wKCk7XG4gICAgICAgIHRoaXMucGxheWVkRHVyYXRpb24gKz0gdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUgLSB0aGlzLnBsYXlTdGFydFRpbWU7XG4gICAgfVxuICAgIHBsYXkoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9wbGF5KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BsYXknKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl9wYXVzZSgpO1xuICAgICAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gICAgfVxuICAgIHN0b3BBdCh0aW1lU2Vjb25kcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBkZWxheSA9IHRpbWVTZWNvbmRzIC0gdGhpcy5jdXJyZW50VGltZTtcbiAgICAgICAgKF9hID0gdGhpcy5idWZmZXJOb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RvcCh0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSArIGRlbGF5KTtcbiAgICAgICAgKF9iID0gdGhpcy5idWZmZXJOb2RlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlck5vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICAgIHNldFNpbmtJZChkZXZpY2VJZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWMgPSB0aGlzLmF1ZGlvQ29udGV4dDtcbiAgICAgICAgICAgIHJldHVybiBhYy5zZXRTaW5rSWQoZGV2aWNlSWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IHBsYXliYWNrUmF0ZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuYnVmZmVyTm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBsYXliYWNrUmF0ZS52YWx1ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMTtcbiAgICB9XG4gICAgc2V0IHBsYXliYWNrUmF0ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5idWZmZXJOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlck5vZGUucGxheWJhY2tSYXRlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXVzZWQgPyB0aGlzLnBsYXllZER1cmF0aW9uIDogdGhpcy5wbGF5ZWREdXJhdGlvbiArIHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lIC0gdGhpcy5wbGF5U3RhcnRUaW1lO1xuICAgIH1cbiAgICBzZXQgY3VycmVudFRpbWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdzZWVraW5nJyk7XG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZWREdXJhdGlvbiA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVkRHVyYXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3BsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3RpbWV1cGRhdGUnKTtcbiAgICB9XG4gICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5idWZmZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kdXJhdGlvbikgfHwgMDtcbiAgICB9XG4gICAgZ2V0IHZvbHVtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZTtcbiAgICB9XG4gICAgc2V0IHZvbHVtZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lbWl0KCd2b2x1bWVjaGFuZ2UnKTtcbiAgICB9XG4gICAgZ2V0IG11dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbXV0ZWQ7XG4gICAgfVxuICAgIHNldCBtdXRlZCh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fbXV0ZWQgPT09IHZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLl9tdXRlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fbXV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2Fpbk5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogR2V0IHRoZSBHYWluTm9kZSB1c2VkIHRvIHBsYXkgdGhlIGF1ZGlvLiBDYW4gYmUgdXNlZCB0byBhdHRhY2ggZmlsdGVycy4gKi9cbiAgICBnZXRHYWluTm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2Fpbk5vZGU7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgV2ViQXVkaW9QbGF5ZXI7XG4iXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiYWRvcHQiLCJ2YWx1ZSIsInJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiRXZlbnRFbWl0dGVyIiwiV2ViQXVkaW9QbGF5ZXIiLCJjb25zdHJ1Y3RvciIsImF1ZGlvQ29udGV4dCIsIkF1ZGlvQ29udGV4dCIsImJ1ZmZlck5vZGUiLCJhdXRvcGxheSIsInBsYXlTdGFydFRpbWUiLCJwbGF5ZWREdXJhdGlvbiIsIl9tdXRlZCIsImJ1ZmZlciIsImN1cnJlbnRTcmMiLCJwYXVzZWQiLCJjcm9zc09yaWdpbiIsImdhaW5Ob2RlIiwiY3JlYXRlR2FpbiIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImxvYWQiLCJzcmMiLCJmZXRjaCIsInJlc3BvbnNlIiwiYXJyYXlCdWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJhdWRpb0J1ZmZlciIsImVtaXQiLCJwbGF5IiwiX3BsYXkiLCJfYSIsImRpc2Nvbm5lY3QiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJkdXJhdGlvbiIsInN0YXJ0IiwiY3VycmVudFRpbWUiLCJvbmVuZGVkIiwicGF1c2UiLCJfcGF1c2UiLCJzdG9wIiwic3RvcEF0IiwidGltZVNlY29uZHMiLCJfYiIsImRlbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJzZXRTaW5rSWQiLCJkZXZpY2VJZCIsImFjIiwicGxheWJhY2tSYXRlIiwidm9sdW1lIiwiZ2FpbiIsIm11dGVkIiwiZ2V0R2Fpbk5vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/wavesurfer.js/dist/webaudio.js\n");

/***/ })

};
;